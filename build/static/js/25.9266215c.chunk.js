"use strict";(self.webpackChunktour_guide_ai=self.webpackChunktour_guide_ai||[]).push([[25],{4698:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(36839)),s=t(56723);r.A=(0,i.default)((0,s.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},11554:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(36839)),s=t(56723);r.A=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},20792:(e,r,t)=>{t.d(r,{A:()=>z});var a=t(98587),i=t(58168),s=t(82483),o=t(29765),n=t(97266),l=t(64122),c=t(71251),d=t(33790),h=t(26855),m=t(90292),u=t(4692);function v(e){return(0,u.Ay)("MuiCircularProgress",e)}(0,m.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x=t(56723);const A=["className","color","disableShrink","size","style","thickness","value","variant"];let y,f,p,g,k=e=>e;const j=44,w=(0,l.i7)(y||(y=k`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),b=(0,l.i7)(f||(f=k`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,h.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,c.A)(t.color)}`]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,i.A)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.AH)(p||(p=k`
      animation: ${0} 1.4s linear infinite;
    `),w)})),E=(0,h.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),C=(0,h.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,c.A)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,i.A)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.AH)(g||(g=k`
      animation: ${0} 1.4s ease-in-out infinite;
    `),b)})),z=s.forwardRef((function(e,r){const t=(0,d.b)({props:e,name:"MuiCircularProgress"}),{className:s,color:l="primary",disableShrink:h=!1,size:m=40,style:u,thickness:y=3.6,value:f=0,variant:p="indeterminate"}=t,g=(0,a.A)(t,A),k=(0,i.A)({},t,{color:l,disableShrink:h,size:m,thickness:y,value:f,variant:p}),w=(e=>{const{classes:r,variant:t,color:a,disableShrink:i}=e,s={root:["root",t,`color${(0,c.A)(a)}`],svg:["svg"],circle:["circle",`circle${(0,c.A)(t)}`,i&&"circleDisableShrink"]};return(0,n.A)(s,v,r)})(k),b={},z={},P={};if("determinate"===p){const e=2*Math.PI*((j-y)/2);b.strokeDasharray=e.toFixed(3),P["aria-valuenow"]=Math.round(f),b.strokeDashoffset=`${((100-f)/100*e).toFixed(3)}px`,z.transform="rotate(-90deg)"}return(0,x.jsx)(S,(0,i.A)({className:(0,o.A)(w.root,s),style:(0,i.A)({width:m,height:m},z,u),ownerState:k,ref:r,role:"progressbar"},P,g,{children:(0,x.jsx)(E,{className:w.svg,ownerState:k,viewBox:"22 22 44 44",children:(0,x.jsx)(C,{className:w.circle,style:b,ownerState:k,cx:j,cy:j,r:(j-y)/2,fill:"none",strokeWidth:y})})}))}))},32901:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(36839)),s=t(56723);r.A=(0,i.default)((0,s.jsx)("path",{d:"M12 19c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1M4 6l8 5 8-5v2l-8 5-8-5zm13.34 16-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34z"}),"MarkEmailRead")},44088:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(36839)),s=t(56723);r.A=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error")},97714:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(23509),i=t(20860);const s="/api/emails",o={requestEmailVerification:async()=>{try{return(await a.A.post(`${s}/resend-verification`,{},{headers:(0,i.z)()})).data}catch(e){throw console.error("Error requesting email verification:",e),e}},verifyEmail:async e=>{try{return(await a.A.post(`${s}/verify`,{token:e})).data}catch(r){throw console.error("Error verifying email:",r),r}},requestPasswordReset:async e=>{try{return(await a.A.post("/auth/request-password-reset",{email:e})).data}catch(r){throw console.error("Error requesting password reset:",r),r}},resetPassword:async(e,r)=>{try{return(await a.A.post("/auth/reset-password",{token:e,newPassword:r})).data}catch(t){throw console.error("Error resetting password:",t),t}},sendInviteCode:async(e,r)=>{try{return(await a.A.post(`${s}/send-invite`,{email:r,code:e},{headers:(0,i.z)()})).data}catch(t){throw console.error("Error sending invitation code:",t),t}}}},98025:(e,r,t)=>{t.r(r),t.d(r,{default:()=>k});var a=t(82483),i=t(99891),s=t(93376),o=t(43063),n=t(77924),l=t(52891),c=t(20792),d=t(65470),h=t(95619),m=t(98717),u=t(32901),v=t(4698),x=t(11554),A=t(44088),y=t(23559),f=t(20860),p=t(97714),g=t(56723);const k=()=>{const[e]=(0,i.ok)(),r=e.get("token"),t=(0,s.Zp)(),[k,j]=(0,a.useState)(!1),[w,b]=(0,a.useState)(!!r),[S,E]=(0,a.useState)(!1),[C,z]=(0,a.useState)(""),[P,M]=(0,a.useState)(""),[V,$]=(0,a.useState)(!1),[D,R]=(0,a.useState)("");(0,a.useEffect)((()=>{r&&W()}),[r]);const W=async()=>{j(!0),z("");try{await f.A.loginWithToken(r),E(!0)}catch(a){var e,t;console.error("Error verifying email:",a);const r=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Unable to verify your email. The link may have expired or is invalid.";z(r)}finally{j(!1)}},q=async e=>{if(e.preventDefault(),P&&/\S+@\S+\.\S+/.test(P)){R(""),j(!0),z("");try{await p.A.resendVerificationEmail(P),$(!0)}catch(r){console.error("Error requesting verification email:",r),$(!0)}finally{j(!1)}}else R("Please enter a valid email address")},B=()=>{t("/beta")};return w?(0,g.jsx)(o.A,{maxWidth:"sm",sx:{mt:8,mb:4},children:(0,g.jsx)(n.A,{elevation:3,sx:{p:4},children:k?(0,g.jsxs)(l.A,{sx:{textAlign:"center",py:4},children:[(0,g.jsx)(c.A,{size:60,sx:{mb:3}}),(0,g.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:"Verifying Your Email"}),(0,g.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"Please wait while we verify your email address..."})]}):S?(0,g.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,g.jsx)(x.A,{color:"success",sx:{fontSize:60,mb:2}}),(0,g.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:"Email Verified Successfully!"}),(0,g.jsx)(d.A,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Thank you for verifying your email address. You can now access all beta features."}),(0,g.jsx)(h.A,{variant:"contained",color:"primary",onClick:B,sx:{mt:2},children:"Go to Beta Portal"})]}):(0,g.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,g.jsx)(A.A,{color:"error",sx:{fontSize:60,mb:2}}),(0,g.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:"Verification Failed"}),(0,g.jsx)(d.A,{variant:"body1",color:"text.secondary",paragraph:!0,children:C||"We could not verify your email address. The link may have expired or is invalid."}),(0,g.jsx)(d.A,{variant:"body2",sx:{mb:3},children:"You can request a new verification email below:"}),(0,g.jsxs)(l.A,{component:"form",onSubmit:q,children:[(0,g.jsx)(m.A,{fullWidth:!0,margin:"normal",label:"Your Email Address",type:"email",value:P,onChange:e=>M(e.target.value),error:!!D,helperText:D}),(0,g.jsx)(h.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:k,startIcon:k?(0,g.jsx)(c.A,{size:20}):(0,g.jsx)(v.A,{}),sx:{mt:2},children:k?"Sending...":"Resend Verification Email"})]})]})})}):(0,g.jsx)(o.A,{maxWidth:"sm",sx:{mt:8,mb:4},children:(0,g.jsx)(n.A,{elevation:3,sx:{p:4},children:V?(0,g.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,g.jsx)(x.A,{color:"success",sx:{fontSize:60,mb:2}}),(0,g.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:"Check Your Email"}),(0,g.jsx)(d.A,{variant:"body1",color:"text.secondary",paragraph:!0,children:"If an account exists with the email you provided, we've sent a verification link. Please check your email and follow the instructions to verify your account."}),(0,g.jsx)(h.A,{variant:"outlined",onClick:()=>t("/"),sx:{mt:2,mr:2},children:"Return to Home"}),(0,g.jsx)(h.A,{variant:"contained",color:"primary",startIcon:(0,g.jsx)(y.A,{}),onClick:()=>{t("/login")},sx:{mt:2},children:"Go to Login"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.A,{sx:{textAlign:"center",mb:3},children:[(0,g.jsx)(u.A,{color:"primary",sx:{fontSize:60,mb:2}}),(0,g.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:"Verify Your Email"}),(0,g.jsx)(d.A,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Enter your email address below and we'll send you a verification link."})]}),(0,g.jsxs)(l.A,{component:"form",onSubmit:q,children:[(0,g.jsx)(m.A,{fullWidth:!0,margin:"normal",label:"Your Email Address",type:"email",value:P,onChange:e=>M(e.target.value),error:!!D,helperText:D}),(0,g.jsx)(h.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:k,startIcon:k?(0,g.jsx)(c.A,{size:20}):(0,g.jsx)(v.A,{}),sx:{mt:3,mb:2},children:k?"Sending...":"Send Verification Email"})]})]})})})}}}]);
//# sourceMappingURL=25.9266215c.chunk.js.map