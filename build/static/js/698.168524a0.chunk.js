"use strict";(self.webpackChunktour_guide_ai=self.webpackChunktour_guide_ai||[]).push([[698],{38698:(e,t,r)=>{r.r(t),r.d(t,{default:()=>bt});var a=r(82483),s=r(10376),n=r(43063),i=r(20792),o=r(65470),l=r(52891),c=r(79533),d=r(71756),u=r(95619),h=r(77924),m=r(32701),x=r(87686),p=r(57513),A=r(28896),g=r(99891),y=r(98761),j=r(98717),f=r(55988),v=r(16253),b=r(74312),w=r(70407),S=r(62224),C=r(20860),E=r(56723);const k=e=>{let{onSuccess:t}=e;const[r,s]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",betaCode:""}),[n,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[x,A]=(0,a.useState)({}),[g,k]=(0,a.useState)(null),[T,D]=(0,a.useState)(null),[P,I]=(0,a.useState)(!1),M=[{id:"length",label:"At least 8 characters",test:e=>e.length>=8},{id:"uppercase",label:"At least one uppercase letter",test:e=>/[A-Z]/.test(e)},{id:"lowercase",label:"At least one lowercase letter",test:e=>/[a-z]/.test(e)},{id:"number",label:"At least one number",test:e=>/\d/.test(e)},{id:"special",label:"At least one special character",test:e=>/[^A-Za-z0-9]/.test(e)}],R=e=>M.map((t=>({...t,fulfilled:t.test(e)}))),B=e=>{const{name:t,value:a}=e.target;s({...r,[t]:a}),x[t]&&A({...x,[t]:null}),g&&k(null)};return(0,E.jsxs)(l.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};r.name.trim()||(e.name="Name is required"),r.email?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",r.password?R(r.password).filter((e=>!e.fulfilled)).length>0&&(e.password="Password does not meet requirements"):e.password="Password is required";return r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",r.betaCode?6!==r.betaCode.length&&(e.betaCode="Beta code must be 6 characters"):e.betaCode="Beta access code is required",A(e),0===Object.keys(e).length})()){I(!0),k(null),D(null);try{if(!await C.A.validateBetaCode(r.betaCode))return A({...x,betaCode:"Invalid or expired beta code"}),void I(!1);const e=await C.A.register(r.email,r.betaCode,r.name,r.password);if(!e)return k("Registration failed: Invalid server response"),void I(!1);D("Registration successful! Redirecting to your dashboard..."),setTimeout((()=>{t&&t(e)}),1500)}catch(a){if(console.error("Registration error:",a),a.response&&a.response.data&&a.response.data.error){const e=a.response.data.error;"duplicate_email"===e.type?A({...x,email:"This email is already registered"}):"invalid_invite_code"===e.type?A({...x,betaCode:"Invalid or expired beta code"}):k(e.message||"Registration failed")}else k("Registration failed: "+(a.message||"Unknown error"))}finally{I(!1)}}},noValidate:!0,children:[g&&(0,E.jsx)(c.A,{severity:"error",sx:{mb:2},children:g}),T&&(0,E.jsx)(c.A,{severity:"success",sx:{mb:2},children:T}),(0,E.jsxs)(p.Ay,{container:!0,spacing:2,children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{name:"name",label:"Full Name",fullWidth:!0,value:r.name,onChange:B,error:!!x.name,helperText:x.name,disabled:P,required:!0})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{name:"email",label:"Email Address",fullWidth:!0,type:"email",value:r.email,onChange:B,error:!!x.email,helperText:x.email,disabled:P,required:!0})}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(j.A,{name:"password",label:"Password",fullWidth:!0,type:n?"text":"password",value:r.password,onChange:B,error:!!x.password,helperText:x.password,disabled:P,required:!0,InputProps:{endAdornment:(0,E.jsx)(f.A,{position:"end",children:(0,E.jsx)(v.A,{onClick:()=>{d(!n)},edge:"end",children:n?(0,E.jsx)(w.A,{}):(0,E.jsx)(S.A,{})})})}}),(()=>{if(!r.password)return null;const e=R(r.password);return(0,E.jsxs)(l.A,{sx:{mt:1,mb:2},children:[(0,E.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"Password requirements:"}),(0,E.jsx)(p.Ay,{container:!0,spacing:1,children:e.map((e=>(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,E.jsxs)(y.A,{sx:{color:e.fulfilled?"success.main":"text.secondary",display:"flex",alignItems:"center"},children:[e.fulfilled?"\u2713":"\u25cb"," ",e.label]})},e.id)))})]})})()]}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{name:"confirmPassword",label:"Confirm Password",fullWidth:!0,type:h?"text":"password",value:r.confirmPassword,onChange:B,error:!!x.confirmPassword,helperText:x.confirmPassword,disabled:P,required:!0,InputProps:{endAdornment:(0,E.jsx)(f.A,{position:"end",children:(0,E.jsx)(v.A,{onClick:()=>{m(!h)},edge:"end",children:h?(0,E.jsx)(w.A,{}):(0,E.jsx)(S.A,{})})})}})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(b.A,{sx:{my:1}})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{name:"betaCode",label:"Beta Access Code",fullWidth:!0,value:r.betaCode,onChange:B,error:!!x.betaCode,helperText:x.betaCode||"Enter the 6-character code you received via email",disabled:P,required:!0,inputProps:{maxLength:6}})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(u.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:P,sx:{mt:2},children:P?(0,E.jsx)(i.A,{size:24}):"Register"})})]})]})};var T=r(17109),D=r(20117),P=r(59206),I=r(26855),M=r(93846),R=r(99440),B=r(58835),z=r(52057),F=r(64794),U=r(69884);const W=e=>{let{initialCode:t="",onSubmit:r}=e;const[s,n]=(0,a.useState)(t),[i,d]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[A,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(s){const e=s.trim().toUpperCase();e!==s&&n(e),A&&(p(!1),d(null))}}),[s,A]);return(0,E.jsxs)(l.A,{component:"form",onSubmit:async e=>{e.preventDefault(),x?r(s):(await(async()=>{if(!s||!(e=>/^[A-Za-z0-9]{6}$/.test(e))(s))return d("Please enter a valid 6-character beta code"),void g(!0);m(!0),d(null);try{const e=await M.A.validateCode(s);p(e),g(!0),e||d("Invalid or expired beta code. Please check and try again.")}catch(e){console.error("Error validating code:",e),d("An error occurred while validating your code. Please try again."),p(!1)}finally{m(!1)}})(),x&&r(s))},sx:{width:"100%"},children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Enter your beta access code"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:"Please enter the 6-character code you received in your invitation email. This code grants you exclusive access to the TourGuideAI beta program."}),(0,E.jsx)(j.A,{fullWidth:!0,label:"Beta Access Code",variant:"outlined",value:s,onChange:e=>{const t=e.target.value;n(t),(x||i)&&(p(!1),d(null))},error:!!i,helperText:i,placeholder:"Enter 6-character code",disabled:h,inputProps:{maxLength:6,style:{textTransform:"uppercase"}},InputProps:{endAdornment:(0,E.jsxs)(f.A,{position:"end",children:[x&&(0,E.jsx)(F.A,{color:"success"}),i&&(0,E.jsx)(U.A,{color:"error"}),(0,E.jsx)(R.A,{title:"Your beta code is a 6-character alphanumeric code you received via email",children:(0,E.jsx)(v.A,{edge:"end",children:(0,E.jsx)(z.A,{})})})]})},sx:{mb:3,mt:2}}),x&&(0,E.jsx)(c.A,{severity:"success",sx:{mb:3},children:"Beta code verified successfully!"}),(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,E.jsx)(B.A,{href:"#",onClick:e=>{e.preventDefault(),window.open("/beta/request-code","_blank")},sx:{fontSize:"0.875rem"},children:"Don't have a code?"}),(0,E.jsx)(u.A,{variant:"contained",color:"primary",type:"submit",disabled:h||!x&&!s,children:h?"Validating...":x?"Continue":"Validate Code"})]})]})};var N=r(15269),q=r(7850),L=r(2383);const O=e=>{let{initialData:t={},onSubmit:r}=e;const[s,n]=(0,a.useState)({displayName:t.displayName||"",jobTitle:t.jobTitle||"",company:t.company||"",bio:t.bio||"",profilePicture:t.profilePicture||null}),[i,c]=(0,a.useState)({}),[d,h]=(0,a.useState)(t.profilePicture?URL.createObjectURL(t.profilePicture):null),m=e=>{const{name:t,value:r}=e.target;n((e=>({...e,[t]:r}))),i[t]&&c((e=>({...e,[t]:null})))};return(0,E.jsxs)(l.A,{component:"form",onSubmit:e=>{e.preventDefault(),(()=>{const e={};return s.displayName.trim()||(e.displayName="Display name is required"),c(e),0===Object.keys(e).length})()&&r(s)},sx:{width:"100%"},children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Set Up Your Profile"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:"Customize your beta program profile. This information will help us provide a personalized experience and better understand our users."}),(0,E.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mt:1},children:[(0,E.jsxs)(p.Ay,{item:!0,xs:12,display:"flex",flexDirection:"column",alignItems:"center",children:[(0,E.jsxs)(l.A,{sx:{position:"relative",mb:2},children:[(0,E.jsx)(N.A,{src:d,sx:{width:120,height:120,border:e=>`2px solid ${e.palette.primary.main}`}}),d&&(0,E.jsx)(v.A,{onClick:()=>{n((e=>({...e,profilePicture:null}))),h(null),i.profilePicture&&c((e=>({...e,profilePicture:null})))},size:"small",sx:{position:"absolute",top:0,right:0,bgcolor:"background.paper","&:hover":{bgcolor:"error.light",color:"white"}},children:(0,E.jsx)(L.A,{fontSize:"small"})})]}),(0,E.jsxs)(l.A,{children:[(0,E.jsx)("input",{accept:"image/*",id:"profile-picture-upload",type:"file",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/png","image/gif"].includes(t.type))return void c((e=>({...e,profilePicture:"Please upload a valid image file (JPEG, PNG, or GIF)"})));if(t.size>5242880)return void c((e=>({...e,profilePicture:"Image size should be less than 5MB"})));i.profilePicture&&c((e=>({...e,profilePicture:null}))),n((e=>({...e,profilePicture:t})));const e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(t)}}}),(0,E.jsx)("label",{htmlFor:"profile-picture-upload",children:(0,E.jsx)(u.A,{variant:"outlined",component:"span",startIcon:(0,E.jsx)(q.A,{}),size:"medium",children:d?"Change Picture":"Upload Picture"})})]}),i.profilePicture&&(0,E.jsx)(o.A,{color:"error",variant:"caption",sx:{mt:1},children:i.profilePicture})]}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Display Name",name:"displayName",value:s.displayName,onChange:m,error:!!i.displayName,helperText:i.displayName,required:!0})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Job Title",name:"jobTitle",value:s.jobTitle,onChange:m,placeholder:"Optional"})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Company/Organization",name:"company",value:s.company,onChange:m,placeholder:"Optional"})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Bio",name:"bio",value:s.bio,onChange:m,multiline:!0,rows:3,placeholder:"Tell us a bit about yourself and how you plan to use TourGuideAI (optional)"})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,E.jsx)(u.A,{type:"submit",variant:"contained",color:"primary",children:"Continue"})})]})]})};var _=r(52307),G=r(98844),V=r(42049),$=r(74225),K=r(59909),Z=r(60750),Y=r(18669),J=r(46838),H=r(65170);const X=e=>{let{initialData:t={},onSubmit:r}=e;const[s,n]=(0,a.useState)({notificationEmail:void 0===t.notificationEmail||t.notificationEmail,dataSharingLevel:t.dataSharingLevel||"minimal",tourPreferences:t.tourPreferences||[],interestTopics:t.interestTopics||[]}),i=e=>{const{checked:t,value:r}=e.target;n((e=>{const a=t?[...e.tourPreferences,r]:e.tourPreferences.filter((e=>e!==r));return{...e,tourPreferences:a}}))};return(0,E.jsxs)(l.A,{component:"form",onSubmit:e=>{e.preventDefault(),r(s)},sx:{width:"100%"},children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Set Your Preferences"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:"Configure your preferences to personalize your beta experience. You can update these settings at any time from your profile."}),(0,E.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mt:1},children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsxs)(_.A,{component:"fieldset",children:[(0,E.jsx)(G.A,{component:"legend",children:"Notifications"}),(0,E.jsx)(V.A,{children:(0,E.jsx)($.A,{control:(0,E.jsx)(K.A,{checked:s.notificationEmail,onChange:e=>{n((t=>({...t,notificationEmail:e.target.checked})))},name:"notificationEmail"}),label:"Receive email notifications about beta updates and new features"})})]})}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(b.A,{sx:{my:1}}),(0,E.jsxs)(_.A,{component:"fieldset",children:[(0,E.jsx)(G.A,{component:"legend",children:"Data Sharing Level"}),(0,E.jsxs)(Z.A,{name:"dataSharingLevel",value:s.dataSharingLevel,onChange:e=>{n((t=>({...t,dataSharingLevel:e.target.value})))},children:[(0,E.jsx)($.A,{value:"minimal",control:(0,E.jsx)(Y.A,{}),label:"Minimal"}),(0,E.jsx)($.A,{value:"standard",control:(0,E.jsx)(Y.A,{}),label:"Standard"}),(0,E.jsx)($.A,{value:"comprehensive",control:(0,E.jsx)(Y.A,{}),label:"Comprehensive"})]}),(0,E.jsx)(y.A,{children:(e=>{switch(e){case"minimal":return"We collect only essential data required for the application to function";case"standard":return"We collect usage data to improve the application and your experience";case"comprehensive":return"We collect detailed analytics data to optimize all aspects of the application";default:return""}})(s.dataSharingLevel)})]})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(b.A,{sx:{my:1}}),(0,E.jsxs)(_.A,{component:"fieldset",children:[(0,E.jsx)(G.A,{component:"legend",children:"Tour Preferences"}),(0,E.jsx)(y.A,{sx:{mt:0,mb:1},children:"Select your preferred types of tours (select all that apply)"}),(0,E.jsx)(V.A,{row:!0,children:[{value:"walking",label:"Walking Tours"},{value:"driving",label:"Driving Routes"},{value:"public_transit",label:"Public Transit"},{value:"cycling",label:"Cycling Routes"},{value:"wheelchair",label:"Wheelchair Accessible"},{value:"group",label:"Group Activities"},{value:"solo",label:"Solo Activities"},{value:"family",label:"Family-friendly"}].map((e=>(0,E.jsx)($.A,{control:(0,E.jsx)(J.A,{checked:s.tourPreferences.includes(e.value),onChange:i,value:e.value}),label:e.label,sx:{width:{xs:"100%",sm:"50%",md:"33%"}}},e.value)))})]})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(b.A,{sx:{my:1}}),(0,E.jsxs)(_.A,{fullWidth:!0,component:"fieldset",sx:{mt:2},children:[(0,E.jsx)(G.A,{component:"legend",children:"Interest Topics"}),(0,E.jsx)(y.A,{sx:{mt:0,mb:1},children:"Select topics you're interested in exploring"}),(0,E.jsx)(H.A,{multiple:!0,id:"interest-topics",options:["Cultural Tours","Nature Exploration","Adventure Travel","City Sightseeing","Food Tourism","Historical Sites","Beach Holidays","Mountain Hikes","Road Trips","Museum Tours","Architecture","Wildlife Viewing","Photography Spots","Shopping Tours","Local Festivals","Nightlife Experience","Family Activities","Luxury Travel"],value:s.interestTopics,onChange:(e,t)=>{n((e=>({...e,interestTopics:t})))},renderTags:(e,t)=>e.map(((e,r)=>(0,a.createElement)(d.A,{variant:"outlined",label:e,...t({index:r}),key:e}))),renderInput:e=>(0,E.jsx)(j.A,{...e,variant:"outlined",placeholder:"Select topics..."})})]})]}),(0,E.jsx)(p.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,E.jsx)(u.A,{type:"submit",variant:"contained",color:"primary",children:"Continue"})})]})]})};var Q=r(61982),ee=r(85555),te=r(79834),re=r(41410),ae=r(23390),se=r(11554),ne=r(53821),ie=r(23),oe=r(21681),le=r(69e3),ce=r(33851);const de=(0,I.Ay)(Q.A)((e=>{let{theme:t}=e;return{textAlign:"center",padding:t.spacing(3),marginBottom:t.spacing(4),background:`linear-gradient(45deg, ${t.palette.primary.main} 30%, ${t.palette.primary.light} 90%)`,color:t.palette.primary.contrastText}})),ue=(0,I.Ay)(h.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),height:"100%",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:t.shadows[4]}}})),he=e=>{let{profile:t,onFinish:r}=e;const a=[{icon:(0,E.jsx)(oe.A,{color:"primary",fontSize:"large"}),title:"Tour Planning",description:"Generate personalized travel itineraries with AI-powered route optimization"},{icon:(0,E.jsx)(le.A,{color:"primary",fontSize:"large"}),title:"Interactive Maps",description:"Explore your routes with detailed maps and points of interest"},{icon:(0,E.jsx)(ce.A,{color:"primary",fontSize:"large"}),title:"Beta Community",description:"Join discussions and share feedback with other beta testers"}];return(0,E.jsxs)(l.A,{sx:{width:"100%"},children:[(0,E.jsxs)(de,{children:[(0,E.jsx)(ne.A,{sx:{fontSize:60,mb:2}}),(0,E.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,children:"Welcome to the TourGuideAI Beta Program!"}),(0,E.jsxs)(o.A,{variant:"body1",children:["Congratulations, ",t.displayName||"Beta Tester","! Your setup is complete, and you're ready to start exploring TourGuideAI."]})]}),(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,E.jsx)(N.A,{src:t.profilePicture?URL.createObjectURL(t.profilePicture):void 0,sx:{width:64,height:64,mr:2}}),(0,E.jsxs)(l.A,{children:[(0,E.jsx)(o.A,{variant:"h6",children:t.displayName||"Beta Tester"}),t.jobTitle&&t.company&&(0,E.jsxs)(o.A,{variant:"body2",color:"textSecondary",children:[t.jobTitle," at ",t.company]})]})]}),(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Program Features"}),(0,E.jsx)(p.Ay,{container:!0,spacing:3,sx:{mb:4},children:a.map(((e,t)=>(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:4,children:(0,E.jsxs)(ue,{elevation:2,children:[(0,E.jsx)(l.A,{sx:{textAlign:"center",mb:2},children:e.icon}),(0,E.jsx)(o.A,{variant:"h6",align:"center",gutterBottom:!0,children:e.title}),(0,E.jsx)(o.A,{variant:"body2",align:"center",color:"textSecondary",children:e.description})]})},t)))}),(0,E.jsx)(b.A,{sx:{mb:4}}),(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Next Steps"}),(0,E.jsx)(ee.A,{children:["Explore the dashboard to see available features","Create your first travel plan and provide feedback","Join the beta community forum for discussions","Check your email for upcoming feature releases","Share your experience with us through the feedback widget"].map(((e,t)=>(0,E.jsxs)(te.Ay,{sx:{py:1},children:[(0,E.jsx)(re.A,{children:(0,E.jsx)(se.A,{color:"primary"})}),(0,E.jsx)(ae.A,{primary:e})]},t)))}),(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:4,p:2,bgcolor:"background.paper",borderRadius:1},children:[(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)(ie.A,{sx:{mr:2,color:"primary.main"}}),(0,E.jsx)(o.A,{children:"Your feedback is valuable to us! Use the feedback button at any time."})]}),(0,E.jsx)(u.A,{variant:"contained",color:"primary",onClick:r,size:"large",children:"Start Exploring"})]})]})},me=(0,I.Ay)(h.A)((e=>{let{theme:t}=e;return{padding:t.spacing(4),marginTop:t.spacing(2),marginBottom:t.spacing(2),boxShadow:t.shadows[3],borderRadius:2*t.shape.borderRadius}})),xe=(0,I.Ay)(l.A)((e=>{let{theme:t}=e;return{marginTop:t.spacing(3),marginBottom:t.spacing(3),minHeight:"300px"}})),pe=(0,I.Ay)(l.A)((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"space-between",marginTop:t.spacing(4)}})),Ae=e=>{let{onComplete:t,initialCode:r=""}=e;const s=["Redeem Beta Code","Setup Your Profile","Set Preferences","Welcome to Beta"],[d,h]=(0,a.useState)(0),[m,x]=(0,a.useState)(!1),[p,A]=(0,a.useState)(null),[g,y]=(0,a.useState)(null),[j,f]=(0,a.useState)(r),[v,w]=(0,a.useState)({displayName:"",jobTitle:"",company:"",profilePicture:null,bio:""}),[S,k]=(0,a.useState)({notificationEmail:!0,dataSharingLevel:"minimal",tourPreferences:[],interestTopics:[]});(0,a.useEffect)((()=>{r&&(f(r),I(r))}),[r]);const I=async e=>{x(!0),A(null);try{await M.A.validateCode(e)?(y("Beta code accepted!"),setTimeout((()=>{h(1),y(null)}),1e3)):A("Invalid or expired beta code. Please check and try again.")}catch(t){console.error("Error validating beta code:",t),A("Error validating beta code. Please try again.")}finally{x(!1)}},R=e=>{f(e),I(e)},B=e=>{w(e),h(2)},z=e=>{k(e),h(3)},F=async()=>{x(!0),A(null);try{await C.A.updateUserProfile({...v,preferences:S,onboardingCompleted:!0}),y("Onboarding completed successfully!"),setTimeout((()=>{t&&t({betaCode:j,profile:v,preferences:S})}),1500)}catch(e){console.error("Error completing onboarding:",e),A("Error saving your preferences. Please try again.")}finally{x(!1)}};return(0,E.jsx)(n.A,{maxWidth:"md",children:(0,E.jsxs)(me,{children:[(0,E.jsx)(o.A,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Beta Program Onboarding"}),(0,E.jsx)(o.A,{variant:"body1",color:"textSecondary",align:"center",paragraph:!0,children:"Complete the following steps to set up your beta experience"}),(0,E.jsx)(b.A,{sx:{my:2}}),p&&(0,E.jsx)(c.A,{severity:"error",sx:{my:2},children:p}),g&&(0,E.jsx)(c.A,{severity:"success",sx:{my:2},children:g}),(0,E.jsx)(T.A,{activeStep:d,sx:{mt:3,mb:4},children:s.map((e=>(0,E.jsx)(D.A,{children:(0,E.jsx)(P.A,{children:e})},e)))}),(0,E.jsx)(xe,{children:m?(0,E.jsx)(l.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:(0,E.jsx)(i.A,{})}):(e=>{switch(e){case 0:return(0,E.jsx)(W,{initialCode:j,onSubmit:R});case 1:return(0,E.jsx)(O,{initialData:v,onSubmit:B});case 2:return(0,E.jsx)(X,{initialData:S,onSubmit:z});case 3:return(0,E.jsx)(he,{profile:v,onFinish:F});default:return"Unknown step"}})(d)}),(0,E.jsxs)(pe,{children:[(0,E.jsx)(u.A,{disabled:0===d||m,onClick:()=>{h((e=>e-1))},variant:"outlined",children:"Back"}),d<s.length-1?(0,E.jsx)(u.A,{variant:"contained",color:"primary",onClick:()=>{h((e=>e+1))},disabled:m||0===d&&!j,children:"Next"}):(0,E.jsx)(u.A,{variant:"contained",color:"primary",onClick:F,disabled:m,children:"Finish"})]})]})})};var ge=r(45694),ye=r(79518);const je=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{h(!0),await ye.Ay.initialize();const e=ye.Ay.getAllPermissions(),r=ye.Ay.getAllRoles();t(e),s(r),i(await ye.Ay.isAdmin()),l(await ye.Ay.isModerator()),d(await ye.Ay.isBetaTester())}catch(e){console.error("Error fetching permissions:",e)}finally{h(!1)}})()}),[]);return{permissions:e,roles:r,isAdmin:n,isModerator:o,isBetaTester:c,isLoading:u,hasPermission:async e=>await ye.Ay.hasPermission(e),hasRole:async e=>await ye.Ay.hasRole(e),hasAnyPermission:async e=>await ye.Ay.hasAnyPermission(e),hasAllPermissions:async e=>await ye.Ay.hasAllPermissions(e)}};var fe=r(8826),ve=r(89902),be=r(68979),we=r(3291),Se=r(39948);const Ce=()=>{const{permissions:e,roles:t,isAdmin:r,isModerator:a,isBetaTester:s,isLoading:n}=je();if(n)return(0,E.jsx)(l.A,{display:"flex",justifyContent:"center",p:3,children:(0,E.jsx)(i.A,{})});const c={};return e.forEach((e=>{const t=e.split(":")[0];c[t]||(c[t]=[]),c[t].push(e)})),(0,E.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,E.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,E.jsx)(ve.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Security Roles & Permissions"]}),(0,E.jsxs)(l.A,{mt:2,children:[(0,E.jsx)(o.A,{variant:"subtitle1",children:"Your Roles"}),(0,E.jsxs)(l.A,{display:"flex",gap:1,mt:1,mb:2,children:[r&&(0,E.jsx)(d.A,{icon:(0,E.jsx)(we.A,{}),label:"Admin",color:"error",variant:"outlined"}),a&&(0,E.jsx)(d.A,{icon:(0,E.jsx)(we.A,{}),label:"Moderator",color:"warning",variant:"outlined"}),s&&(0,E.jsx)(d.A,{icon:(0,E.jsx)(we.A,{}),label:"Beta Tester",color:"primary",variant:"outlined"}),!r&&!a&&!s&&(0,E.jsx)(d.A,{icon:(0,E.jsx)(Se.A,{}),label:"No Roles",color:"default",variant:"outlined"})]})]}),(0,E.jsx)(b.A,{sx:{my:2}}),(0,E.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:"Your Permissions"}),0===Object.keys(c).length?(0,E.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"You don't have any specific permissions assigned."}):(0,E.jsx)(ee.A,{dense:!0,sx:{mb:1},children:Object.entries(c).map((e=>{let[t,r]=e;return(0,E.jsxs)(l.A,{mb:2,children:[(0,E.jsx)(o.A,{variant:"subtitle2",color:"primary",sx:{textTransform:"capitalize"},children:t}),r.map((e=>(0,E.jsxs)(te.Ay,{dense:!0,children:[(0,E.jsx)(re.A,{sx:{minWidth:30},children:(0,E.jsx)(be.A,{fontSize:"small",color:"action"})}),(0,E.jsx)(ae.A,{primary:e.split(":")[1],primaryTypographyProps:{variant:"body2",sx:{textTransform:"capitalize"}}})]},e)))]},t)}))}),(0,E.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"These permissions determine what actions you can perform within the beta program."})]})};var Ee=r(29372),ke=r(62856),Te=r(19632),De=r(29858),Pe=r(91071),Ie=r(7636),Me=r(63696),Re=r(8161),Be=r(56718),ze=r(88889),Fe=r(43838),Ue=r(35771),We=r(19822),Ne=r(84609),qe=r(60204),Le=r(90039);const Oe=e=>{let{featureService:t}=e;const r=["UI/UX","Mobile App","Performance","Navigation","Tours","Maps","Integrations","Accessibility","Offline Mode","Accounts","Social Features","Other"],s={REQUESTED:"requested",UNDER_REVIEW:"under_review",PLANNED:"planned",IN_PROGRESS:"in_progress",IMPLEMENTED:"implemented",REJECTED:"rejected"},[n,A]=(0,a.useState)([]),[g,y]=(0,a.useState)(!0),[f,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(0),[k,T]=(0,a.useState)(!1),[D,P]=(0,a.useState)("votes"),[I,M]=(0,a.useState)({category:"all",status:"all"}),[B,z]=(0,a.useState)({title:"",description:"",category:"",tags:[]}),[F,U]=(0,a.useState)({});(0,a.useEffect)((()=>{W()}),[]);const W=async()=>{try{y(!0),w(null);A([{id:"feat-1",title:"Add dark mode support",description:"Implement a dark mode theme option to reduce eye strain during nighttime use.",category:"UI/UX",status:s.PLANNED,votes:36,comments:12,userVoted:!0,tags:["Dark Mode","Usability"],createdBy:{id:"user-1",name:"Alex Johnson",avatar:null},createdAt:"2023-03-15T08:22:17Z",updatedAt:"2023-03-22T16:33:41Z"},{id:"feat-2",title:"Offline maps for saved routes",description:"Allow users to download maps for their saved routes to use when no internet connection is available.",category:"Offline Mode",status:s.IN_PROGRESS,votes:58,comments:23,userVoted:!1,tags:["Offline","Maps"],createdBy:{id:"user-2",name:"Maria Garcia",avatar:"https://i.pravatar.cc/150?u=user-2"},createdAt:"2023-03-10T11:42:35Z",updatedAt:"2023-03-25T09:17:22Z"},{id:"feat-3",title:"Export routes to GPX/KML formats",description:"Add the ability to export created routes in standard GPX and KML formats for use in other applications.",category:"Integrations",status:s.REQUESTED,votes:24,comments:8,userVoted:!0,tags:["Export","Integration"],createdBy:{id:"user-3",name:"David Wong",avatar:"https://i.pravatar.cc/150?u=user-3"},createdAt:"2023-03-20T14:52:09Z",updatedAt:"2023-03-20T14:52:09Z"},{id:"feat-4",title:"Improve route optimization algorithm",description:"Enhance the current route optimization to consider factors like traffic patterns, opening hours, and weather.",category:"Performance",status:s.UNDER_REVIEW,votes:42,comments:16,userVoted:!1,tags:["Algorithm","Optimization"],createdBy:{id:"user-4",name:"Samantha Lee",avatar:"https://i.pravatar.cc/150?u=user-4"},createdAt:"2023-03-18T09:12:47Z",updatedAt:"2023-03-24T11:32:18Z"},{id:"feat-5",title:"Social sharing of created routes",description:"Allow users to share their created routes on social media platforms directly from the app.",category:"Social Features",status:s.IMPLEMENTED,votes:31,comments:7,userVoted:!0,tags:["Social","Sharing"],createdBy:{id:"user-5",name:"James Wilson",avatar:null},createdAt:"2023-03-05T16:41:23Z",updatedAt:"2023-03-27T13:45:56Z"}])}catch(e){console.error("Error loading features:",e),w("Failed to load feature requests. Please try again.")}finally{y(!1)}},q=()=>{z({title:"",description:"",category:"",tags:[]}),U({}),T(!0)},L=()=>{T(!1)},O=e=>{const{name:t,value:r}=e.target;z((e=>({...e,[t]:r}))),F[t]&&U((e=>({...e,[t]:null})))},G=(e,t)=>{M((r=>({...r,[e]:t})))},V=e=>{switch(e){case s.IMPLEMENTED:return(0,E.jsx)(Be.A,{color:"success"});case s.PLANNED:case s.IN_PROGRESS:return(0,E.jsx)(ze.A,{color:"primary"});case s.REJECTED:return(0,E.jsx)(Fe.A,{color:"error"});default:return null}},$=e=>{switch(e){case s.REQUESTED:return"Requested";case s.UNDER_REVIEW:return"Under Review";case s.PLANNED:return"Planned";case s.IN_PROGRESS:return"In Progress";case s.IMPLEMENTED:return"Implemented";case s.REJECTED:return"Rejected";default:return e}},K=e=>{switch(e){case s.REQUESTED:return"default";case s.UNDER_REVIEW:return"warning";case s.PLANNED:return"info";case s.IN_PROGRESS:return"primary";case s.IMPLEMENTED:return"success";case s.REJECTED:return"error";default:return"default"}},Z=n.filter((e=>("all"===I.category||e.category===I.category)&&(("all"===I.status||e.status===I.status)&&(!(1===S&&!e.userVoted)&&(2!==S||e.status===s.IMPLEMENTED))))),Y=[...Z].sort(((e,t)=>{switch(D){case"votes":default:return t.votes-e.votes;case"newest":return new Date(t.createdAt)-new Date(e.createdAt);case"oldest":return new Date(e.createdAt)-new Date(t.createdAt)}}));return(0,E.jsxs)(l.A,{children:[(0,E.jsxs)(Ee.A,{open:k,onClose:L,maxWidth:"md",fullWidth:!0,children:[(0,E.jsx)(ke.A,{children:"Submit Feature Request"}),(0,E.jsx)(Te.A,{children:(0,E.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mt:0},children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Title",name:"title",value:B.title,onChange:O,error:!!F.title,helperText:F.title,placeholder:"Enter a concise title for your feature request",required:!0})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,E.jsxs)(_.A,{fullWidth:!0,error:!!F.category,children:[(0,E.jsx)(De.A,{id:"category-label",children:"Category"}),(0,E.jsx)(Pe.A,{labelId:"category-label",name:"category",value:B.category,onChange:O,label:"Category",required:!0,children:r.map((e=>(0,E.jsx)(Ie.A,{value:e,children:e},e)))}),F.category&&(0,E.jsx)(o.A,{variant:"caption",color:"error",children:F.category})]})}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,sm:6,children:[(0,E.jsx)(j.A,{fullWidth:!0,label:"Tags",placeholder:"Type tag and press comma to add",onKeyUp:e=>{const t=e.target.value;if(t.endsWith(",")){const r=t.slice(0,-1).trim();r&&!B.tags.includes(r)&&z((e=>({...e,tags:[...e.tags,r]}))),e.target.value=""}},helperText:"Enter tags to help categorize your request"}),(0,E.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:B.tags.map((e=>(0,E.jsx)(d.A,{label:e,onDelete:()=>(e=>{z((t=>({...t,tags:t.tags.filter((t=>t!==e))})))})(e),size:"small"},e)))})]}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Description",name:"description",value:B.description,onChange:O,error:!!F.description,helperText:F.description||"Provide a detailed description of the feature you would like to see",multiline:!0,rows:4,required:!0})})]})}),(0,E.jsxs)(Me.A,{children:[(0,E.jsx)(u.A,{onClick:L,children:"Cancel"}),(0,E.jsx)(u.A,{onClick:async()=>{if((()=>{const e={};return B.title.trim()||(e.title="Title is required"),B.description.trim()||(e.description="Description is required"),B.category||(e.category="Category is required"),U(e),0===Object.keys(e).length})())try{y(!0);const e={id:`feat-${Date.now()}`,...B,status:s.REQUESTED,votes:1,comments:0,userVoted:!0,createdBy:{id:"current-user",name:"Current User",avatar:null},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};A((t=>[e,...t])),T(!1)}catch(e){console.error("Error creating feature request:",e),w("Failed to create feature request. Please try again.")}finally{y(!1)}},variant:"contained",color:"primary",disabled:g,children:g?(0,E.jsx)(i.A,{size:24}):"Submit Request"})]})]}),(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(o.A,{variant:"h5",component:"h2",children:"Feature Requests"}),(0,E.jsx)(u.A,{variant:"contained",color:"primary",startIcon:(0,E.jsx)(Ue.A,{}),onClick:q,children:"Submit Request"})]}),(0,E.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,E.jsxs)(m.A,{value:S,onChange:(e,t)=>{C(t)},"aria-label":"feature request tabs",children:[(0,E.jsx)(x.A,{label:"All Requests"}),(0,E.jsx)(x.A,{label:"My Votes"}),(0,E.jsx)(x.A,{label:"Implemented"})]})}),(0,E.jsx)(h.A,{sx:{p:2,mb:3},children:(0,E.jsxs)(p.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,E.jsx)(p.Ay,{item:!0,children:(0,E.jsx)(We.A,{color:"action"})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,E.jsxs)(_.A,{fullWidth:!0,size:"small",children:[(0,E.jsx)(De.A,{id:"category-filter-label",children:"Category"}),(0,E.jsxs)(Pe.A,{labelId:"category-filter-label",value:I.category,onChange:e=>G("category",e.target.value),label:"Category",children:[(0,E.jsx)(Ie.A,{value:"all",children:"All Categories"}),r.map((e=>(0,E.jsx)(Ie.A,{value:e,children:e},e)))]})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,E.jsxs)(_.A,{fullWidth:!0,size:"small",children:[(0,E.jsx)(De.A,{id:"status-filter-label",children:"Status"}),(0,E.jsxs)(Pe.A,{labelId:"status-filter-label",value:I.status,onChange:e=>G("status",e.target.value),label:"Status",children:[(0,E.jsx)(Ie.A,{value:"all",children:"All Statuses"}),Object.values(s).map((e=>(0,E.jsx)(Ie.A,{value:e,children:$(e)},e)))]})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,E.jsxs)(_.A,{fullWidth:!0,size:"small",children:[(0,E.jsx)(De.A,{id:"sort-label",children:"Sort By"}),(0,E.jsxs)(Pe.A,{labelId:"sort-label",value:D,onChange:e=>{P(e.target.value)},label:"Sort By",children:[(0,E.jsx)(Ie.A,{value:"votes",children:"Most Votes"}),(0,E.jsx)(Ie.A,{value:"newest",children:"Newest"}),(0,E.jsx)(Ie.A,{value:"oldest",children:"Oldest"})]})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,E.jsxs)(o.A,{variant:"body2",color:"textSecondary",children:[Z.length," ",1===Z.length?"request":"requests"," found"]})})]})}),f&&(0,E.jsx)(c.A,{severity:"error",sx:{mb:3},children:f}),g?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,E.jsx)(i.A,{})}):0===Z.length?(0,E.jsxs)(h.A,{sx:{p:4,textAlign:"center"},children:[(0,E.jsx)(o.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No feature requests found"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:0===S?"No feature requests match your current filters.":1===S?"You haven't voted for any feature requests yet.":"No implemented features match your current filters."}),(0,E.jsx)(u.A,{variant:"outlined",color:"primary",startIcon:(0,E.jsx)(Ue.A,{}),onClick:q,sx:{mt:2},children:"Submit a New Request"})]}):(0,E.jsx)(p.Ay,{container:!0,spacing:3,children:Y.map((e=>{return(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsxs)(Q.A,{variant:"outlined",sx:{position:"relative",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:[V(e.status)&&(0,E.jsx)(l.A,{sx:{position:"absolute",top:12,right:12,zIndex:1},children:(0,E.jsx)(R.A,{title:$(e.status),children:V(e.status)})}),(0,E.jsxs)(p.Ay,{container:!0,children:[(0,E.jsx)(p.Ay,{item:!0,xs:1,sm:1,children:(0,E.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2,height:"100%",borderRight:1,borderColor:"divider"},children:[(0,E.jsx)(v.A,{onClick:()=>(async e=>{try{A((t=>t.map((t=>t.id===e?{...t,votes:t.userVoted?t.votes-1:t.votes+1,userVoted:!t.userVoted}:t))))}catch(t){console.error("Error voting for feature:",t)}})(e.id),color:e.userVoted?"primary":"default",size:"small",children:(0,E.jsx)(Ne.A,{})}),(0,E.jsx)(o.A,{variant:"h6",color:e.userVoted?"primary":"textPrimary",sx:{fontWeight:e.userVoted?"bold":"normal"},children:e.votes}),(0,E.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"votes"})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:11,sm:11,children:(0,E.jsxs)(Re.A,{children:[(0,E.jsxs)(l.A,{sx:{mb:2},children:[(0,E.jsx)(o.A,{variant:"h6",component:"h3",gutterBottom:!0,children:e.title}),(0,E.jsxs)(l.A,{sx:{display:"flex",mb:1},children:[(0,E.jsx)(d.A,{label:e.category,size:"small",color:"primary",variant:"outlined",sx:{mr:1}}),(0,E.jsx)(d.A,{label:$(e.status),size:"small",color:K(e.status),variant:"outlined"})]}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:e.description}),e.tags.length>0&&(0,E.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:e.tags.map((e=>(0,E.jsx)(d.A,{label:e,size:"small",variant:"outlined",icon:(0,E.jsx)(qe.A,{})},e)))})]}),(0,E.jsx)(b.A,{sx:{mb:2}}),(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)(N.A,{src:e.createdBy.avatar,alt:e.createdBy.name,sx:{width:24,height:24,mr:1}}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",children:e.createdBy.name}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",sx:{mx:1},children:"\u2022"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",children:(t=e.createdAt,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))})]}),(0,E.jsx)(l.A,{sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(R.A,{title:"Comments",children:(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mr:1},children:[(0,E.jsx)(Le.A,{fontSize:"small",color:"action",sx:{mr:.5}}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",children:e.comments})]})})})]})]})})]})]})},e.id);var t}))})]})};var _e=r(97234),Ge=r(10629),Ve=r(11133),$e=r(16700),Ke=r(70300),Ze=r(80574),Ye=r(25167),Je=r(75544),He=r(13870);const Xe=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,A]=(0,a.useState)(null),[g,y]=(0,a.useState)(""),[b,w]=(0,a.useState)(0),[S,C]=(0,a.useState)("newest"),[k,T]=(0,a.useState)(null),[D,P]=(0,a.useState)(null),[I,M]=(0,a.useState)(!1),[R,B]=(0,a.useState)({title:"",content:"",tags:[]}),[z,F]=(0,a.useState)({});(0,a.useEffect)((()=>{U()}),[]);const U=async()=>{try{s(!0),A(null),setTimeout((()=>{t([{id:"disc-1",title:"How to use the map feature effectively?",content:"I've been trying to plan a route with multiple stops, but I'm having trouble optimizing the order. Does anyone have tips on how to use the map feature more effectively?",author:{id:"user-1",name:"Alex Johnson",avatar:null},createdAt:"2023-03-18T09:22:17Z",updatedAt:"2023-03-18T09:22:17Z",upvotes:12,commentCount:5,tags:["Maps","Routes","Tips"],pinned:!1,bookmarked:!1,category:"Help & Support"},{id:"disc-2",title:"Offline mode suggestion",content:"Has anyone found a good workaround for using the app in areas with poor connectivity? I'm going hiking next month and I'd like to be able to access my saved routes.",author:{id:"user-2",name:"Maria Garcia",avatar:"https://i.pravatar.cc/150?u=user-2"},createdAt:"2023-03-15T14:33:41Z",updatedAt:"2023-03-16T10:15:22Z",upvotes:24,commentCount:8,tags:["Offline","Feature Request"],pinned:!1,bookmarked:!0,category:"Feature Discussions"},{id:"disc-3",title:"Introducing myself to the beta community",content:"Hello everyone! I'm new to the beta program and wanted to introduce myself. I'm a travel enthusiast from Canada and I'm excited to help test and improve TourGuideAI!",author:{id:"user-3",name:"David Wong",avatar:"https://i.pravatar.cc/150?u=user-3"},createdAt:"2023-03-20T11:42:09Z",updatedAt:"2023-03-20T11:42:09Z",upvotes:18,commentCount:12,tags:["Introduction","Community"],pinned:!0,bookmarked:!1,category:"General"},{id:"disc-4",title:"Integration with weather services",content:"I think it would be great if we could see weather forecasts for our planned routes directly in the app. What do others think about this idea?",author:{id:"user-4",name:"Samantha Lee",avatar:"https://i.pravatar.cc/150?u=user-4"},createdAt:"2023-03-17T16:23:47Z",updatedAt:"2023-03-19T08:45:11Z",upvotes:36,commentCount:15,tags:["Weather","Feature Request","Integration"],pinned:!1,bookmarked:!1,category:"Feature Discussions"},{id:"disc-5",title:"Beta program feedback process",content:"The beta program has been running for a few weeks now. I'm curious how our feedback is being used to improve the app. Can any moderators provide insights?",author:{id:"user-5",name:"James Wilson",avatar:null},createdAt:"2023-03-12T10:11:23Z",updatedAt:"2023-03-18T13:27:56Z",upvotes:29,commentCount:6,tags:["Feedback","Process","Beta Program"],pinned:!1,bookmarked:!0,category:"General"}]),s(!1)}),1e3)}catch(e){console.error("Error loading discussions:",e),A("Failed to load discussions. Please try again."),s(!1)}},W=()=>{T(null),P(null)},q=e=>{t((t=>t.map((t=>t.id===e?{...t,bookmarked:!t.bookmarked}:t)))),W()},L=e=>{C(e)},O=()=>{B({title:"",content:"",tags:[]}),F({}),M(!0)},_=()=>{M(!1)},G=e=>{const{name:t,value:r}=e.target;B((e=>({...e,[t]:r}))),z[t]&&F((e=>({...e,[t]:null})))},V=e.filter((e=>{if(g){const t=g.toLowerCase();if(!e.title.toLowerCase().includes(t)&&!e.content.toLowerCase().includes(t)&&!e.tags.some((e=>e.toLowerCase().includes(t))))return!1}return!(1===b&&!e.pinned)&&(!(2===b&&!e.bookmarked)&&((3!==b||"Feature Discussions"===e.category)&&(4!==b||"Help & Support"===e.category)))})),$=[...V].sort(((e,t)=>{switch(S){case"newest":default:return new Date(t.createdAt)-new Date(e.createdAt);case"oldest":return new Date(e.createdAt)-new Date(t.createdAt);case"most_upvoted":return t.upvotes-e.upvotes;case"most_commented":return t.commentCount-e.commentCount}}));return(0,E.jsxs)(l.A,{children:[(0,E.jsxs)(Ee.A,{open:I,onClose:_,maxWidth:"md",fullWidth:!0,children:[(0,E.jsx)(ke.A,{children:"Start a New Discussion"}),(0,E.jsx)(Te.A,{children:(0,E.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mt:0},children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Title",name:"title",value:R.title,onChange:G,error:!!z.title,helperText:z.title,placeholder:"Enter a clear, specific title for your discussion",required:!0})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(j.A,{fullWidth:!0,label:"Content",name:"content",value:R.content,onChange:G,error:!!z.content,helperText:z.content,multiline:!0,rows:6,placeholder:"Share your thoughts, questions, or ideas in detail",required:!0})}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(j.A,{fullWidth:!0,label:"Tags",placeholder:"Type tag and press comma to add",onKeyUp:e=>{const t=e.target.value;if(t.endsWith(",")){const r=t.slice(0,-1).trim();r&&!R.tags.includes(r)&&B((e=>({...e,tags:[...e.tags,r]}))),e.target.value=""}},helperText:"Add relevant tags to help others find your discussion"}),(0,E.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:R.tags.map((e=>(0,E.jsx)(d.A,{label:e,onDelete:()=>(e=>{B((t=>({...t,tags:t.tags.filter((t=>t!==e))})))})(e),size:"small"},e)))})]})]})}),(0,E.jsxs)(Me.A,{children:[(0,E.jsx)(u.A,{onClick:_,children:"Cancel"}),(0,E.jsx)(u.A,{onClick:()=>{if(!(()=>{const e={};return R.title.trim()||(e.title="Title is required"),R.content.trim()?R.content.length<20&&(e.content="Content must be at least 20 characters"):e.content="Content is required",F(e),0===Object.keys(e).length})())return;const e={id:`disc-${Date.now()}`,title:R.title,content:R.content,author:{id:"current-user",name:"Current User",avatar:null},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),upvotes:0,commentCount:0,tags:R.tags,pinned:!1,bookmarked:!1,category:"General"};t((t=>[e,...t])),_()},variant:"contained",color:"primary",children:"Post Discussion"})]})]}),(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(o.A,{variant:"h5",component:"h2",children:"Beta Community Forum"}),(0,E.jsx)(u.A,{variant:"contained",color:"primary",startIcon:(0,E.jsx)(Ve.A,{}),onClick:O,children:"Start Discussion"})]}),(0,E.jsx)(h.A,{sx:{p:2,mb:3},children:(0,E.jsxs)(p.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(j.A,{fullWidth:!0,placeholder:"Search discussions...",value:g,onChange:e=>{y(e.target.value)},size:"small",InputProps:{startAdornment:(0,E.jsx)(f.A,{position:"start",children:(0,E.jsx)($e.A,{})})}})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:{xs:"flex-start",md:"flex-end"}},children:[(0,E.jsx)(o.A,{variant:"body2",sx:{mr:1},children:"Sort by:"}),(0,E.jsxs)(u.A,{size:"small",endIcon:(0,E.jsx)(Ke.A,{}),onClick:e=>T(e.currentTarget),children:["newest"===S&&"Newest","oldest"===S&&"Oldest","most_upvoted"===S&&"Most Upvoted","most_commented"===S&&"Most Commented"]}),(0,E.jsxs)(_e.A,{anchorEl:k,open:Boolean(k)&&!D,onClose:()=>T(null),children:[(0,E.jsx)(Ie.A,{onClick:()=>L("newest"),children:"Newest"}),(0,E.jsx)(Ie.A,{onClick:()=>L("oldest"),children:"Oldest"}),(0,E.jsx)(Ie.A,{onClick:()=>L("most_upvoted"),children:"Most Upvoted"}),(0,E.jsx)(Ie.A,{onClick:()=>L("most_commented"),children:"Most Commented"})]})]})})]})}),(0,E.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,E.jsxs)(m.A,{value:b,onChange:(e,t)=>{w(t)},"aria-label":"forum tabs",children:[(0,E.jsx)(x.A,{label:"All Discussions"}),(0,E.jsx)(x.A,{label:"Pinned"}),(0,E.jsx)(x.A,{label:"Bookmarked"}),(0,E.jsx)(x.A,{label:"Feature Discussions"}),(0,E.jsx)(x.A,{label:"Help & Support"})]})}),n&&(0,E.jsx)(c.A,{severity:"error",sx:{mb:3},children:n}),r?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,E.jsx)(i.A,{})}):0===V.length?(0,E.jsxs)(h.A,{sx:{p:4,textAlign:"center"},children:[(0,E.jsx)(o.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No discussions found"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:g?"No discussions match your search criteria.":0===b?"There are no discussions yet.":1===b?"There are no pinned discussions.":2===b?"You have no bookmarked discussions.":3===b?"There are no feature discussions.":"There are no help & support discussions."}),(0,E.jsx)(u.A,{variant:"outlined",color:"primary",startIcon:(0,E.jsx)(Ve.A,{}),onClick:O,sx:{mt:2},children:"Start a New Discussion"})]}):(0,E.jsx)(p.Ay,{container:!0,spacing:3,children:$.map((e=>{return(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{variant:"outlined",sx:{p:2,position:"relative",bgcolor:e.pinned?"rgba(144, 202, 249, 0.08)":"transparent",border:e.pinned?"1px solid rgba(144, 202, 249, 0.5)":"1px solid rgba(0, 0, 0, 0.12)",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{boxShadow:2,transform:"translateY(-2px)"}},children:[(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)(o.A,{variant:"subtitle1",fontWeight:"medium",sx:{mr:1},children:e.title}),e.pinned&&(0,E.jsx)(d.A,{label:"Pinned",size:"small",color:"primary",variant:"outlined",sx:{mr:1}})]}),(0,E.jsx)(v.A,{size:"small",onClick:t=>((e,t)=>{T(e.currentTarget),P(t)})(t,e),children:(0,E.jsx)(Ze.A,{})})]}),(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,E.jsx)(Ge.A,{sx:{minWidth:36},children:(0,E.jsx)(N.A,{src:e.author.avatar,alt:e.author.name,sx:{width:24,height:24}})}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",children:e.author.name}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",sx:{mx:1},children:"\u2022"}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",children:(r=e.createdAt,new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))}),(0,E.jsx)(o.A,{variant:"body2",color:"textSecondary",sx:{mx:1},children:"\u2022"}),(0,E.jsx)(d.A,{label:e.category,size:"small",color:"default",variant:"outlined"})]}),(0,E.jsx)(o.A,{variant:"body1",paragraph:!0,children:e.content.length>300?`${e.content.slice(0,300)}...`:e.content}),e.tags.length>0&&(0,E.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:e.tags.map((e=>(0,E.jsx)(d.A,{label:e,size:"small",variant:"outlined"},e)))}),(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)(u.A,{size:"small",startIcon:(0,E.jsx)(Ye.A,{}),onClick:()=>{return r=e.id,void t((e=>e.map((e=>e.id===r?{...e,upvotes:e.upvotes+1}:e))));var r},children:e.upvotes}),(0,E.jsx)(u.A,{size:"small",startIcon:(0,E.jsx)(Le.A,{}),sx:{ml:1},children:e.commentCount})]}),(0,E.jsx)(l.A,{children:e.bookmarked?(0,E.jsx)(v.A,{size:"small",color:"primary",onClick:()=>q(e.id),children:(0,E.jsx)(Je.A,{})}):(0,E.jsx)(v.A,{size:"small",onClick:()=>q(e.id),children:(0,E.jsx)(He.A,{})})})]})]})},e.id);var r}))}),(0,E.jsxs)(_e.A,{anchorEl:k,open:Boolean(k)&&Boolean(D),onClose:W,children:[(0,E.jsx)(Ie.A,{onClick:()=>q(null===D||void 0===D?void 0:D.id),children:null!==D&&void 0!==D&&D.bookmarked?"Remove Bookmark":"Bookmark"}),(0,E.jsx)(Ie.A,{children:"View Discussion"}),(0,E.jsx)(Ie.A,{children:"Share"}),(0,E.jsx)(Ie.A,{children:"Report"})]})]})};var Qe=r(29908),et=r(29861),tt=r(87581),rt=r(84258),at=r(80512),st=r(85596),nt=r(44612),it=r(918),ot=r(73817),lt=r(8426),ct=r(63657),dt=r(10776),ut=r(18926),ht=r(78224),mt=r(43149),xt=r(66899),pt=r(42490);const At={userActivity:[{date:"2025-03-20",count:45},{date:"2025-03-21",count:62},{date:"2025-03-22",count:78},{date:"2025-03-23",count:84},{date:"2025-03-24",count:103},{date:"2025-03-25",count:125},{date:"2025-03-26",count:152},{date:"2025-03-27",count:187}],featureUsage:[{feature:"Route Planning",usage:427,growth:15},{feature:"Map Navigation",usage:316,growth:8},{feature:"Location Search",usage:254,growth:12},{feature:"Itinerary Sharing",usage:193,growth:23},{feature:"Travel Recommendations",usage:176,growth:18}],feedbackSentiment:[{category:"UI/UX",positive:67,neutral:22,negative:11},{category:"Performance",positive:58,neutral:31,negative:11},{category:"Features",positive:72,neutral:18,negative:10},{category:"Content",positive:81,neutral:14,negative:5}],retentionData:[{week:"Week 1",rate:89},{week:"Week 2",rate:76},{week:"Week 3",rate:68},{week:"Week 4",rate:62}],geographicData:[{region:"North America",users:245},{region:"Europe",users:187},{region:"Asia",users:134},{region:"South America",users:76},{region:"Africa",users:53},{region:"Oceania",users:38}],deviceData:[{type:"Desktop",percentage:42},{type:"Mobile",percentage:48},{type:"Tablet",percentage:10}],browserData:[{name:"Chrome",percentage:64},{name:"Firefox",percentage:12},{name:"Safari",percentage:16},{name:"Edge",percentage:7},{name:"Other",percentage:1}],issueData:[{type:"Bug Reports",count:37,resolved:31},{type:"Feature Requests",count:56,resolved:22},{type:"UI/UX Issues",count:28,resolved:19},{type:"Performance Issues",count:15,resolved:12}]},gt=30,yt=25;const jt=new class{initGA4(){return console.log("Google Analytics 4 initialized"),this.setupEventListeners(),!0}setupEventListeners(){"undefined"!==typeof window&&(window.addEventListener("load",(()=>{this.trackEvent("page_view",{page_title:document.title,page_location:window.location.href,page_path:window.location.pathname})})),document.addEventListener("click",(e=>{const t=e.target;("BUTTON"===t.tagName||"A"===t.tagName&&"button"===t.getAttribute("role"))&&this.trackEvent("button_click",{button_id:t.id||"unknown",button_text:t.innerText||"unknown",page_path:window.location.pathname})})))}trackEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log(`Analytics event tracked: ${e}`,t),"undefined"!==typeof window&&window.gtag&&window.gtag("event",e,t),!0}async getUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.userActivity.slice(-e)}catch(t){throw console.error("Error fetching user activity data:",t),t}}async getFeatureUsage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.featureUsage.slice(0,e)}catch(t){throw console.error("Error fetching feature usage data:",t),t}}async getFeedbackSentiment(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.feedbackSentiment}catch(e){throw console.error("Error fetching feedback sentiment data:",e),e}}async getRetentionData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.retentionData}catch(e){throw console.error("Error fetching retention data:",e),e}}async getGeographicData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.geographicData}catch(e){throw console.error("Error fetching geographic data:",e),e}}async getDeviceData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.deviceData}catch(e){throw console.error("Error fetching device data:",e),e}}async getBrowserData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.browserData}catch(e){throw console.error("Error fetching browser data:",e),e}}async getIssueData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return At.issueData}catch(e){throw console.error("Error fetching issue data:",e),e}}async detectAnomalies(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");const e=[],t=At.userActivity;for(let a=1;a<t.length;a++){const r=t[a-1].count,s=(t[a].count-r)/r*100;Math.abs(s)>gt&&e.push({type:"user_activity",date:t[a].date,message:`Unusual ${s>0?"increase":"decrease"} in user activity (${Math.abs(s.toFixed(2))}%)`,severity:s>0?"info":"warning"})}const r=At.feedbackSentiment;for(const a of r){const t=a.positive+a.neutral+a.negative,r=a.negative/t*100;r>yt&&e.push({type:"feedback",category:a.category,message:`High negative feedback in ${a.category} category (${r.toFixed(2)}%)`,severity:"warning"})}return e}catch(e){throw console.error("Error detecting anomalies:",e),e}}async exportData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{if(!await C.A.isAdmin())throw new Error("Admin access required");const t={userActivity:At.userActivity,featureUsage:At.featureUsage,feedbackSentiment:At.feedbackSentiment,retentionData:At.retentionData,geographicData:At.geographicData,deviceData:At.deviceData,browserData:At.browserData,issueData:At.issueData,exportDate:(new Date).toISOString(),exportFormat:e};return"csv"===e?{data:"CSV data would be generated here",filename:`beta-analytics-export-${(new Date).toISOString()}.csv`,contentType:"text/csv"}:{data:t,filename:`beta-analytics-export-${(new Date).toISOString()}.json`,contentType:"application/json"}}catch(t){throw console.error("Error exporting data:",t),t}}},ft=()=>{const e=useTheme(),[t,r]=(0,a.useState)(0),[s,n]=(0,a.useState)(!1),[d,A]=(0,a.useState)(!0),[g,y]=(0,a.useState)(null),[j,f]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),[k,T]=(0,a.useState)([]),[D,P]=(0,a.useState)([]),[I,M]=(0,a.useState)([]),[R,B]=(0,a.useState)([]),[z,F]=(0,a.useState)([]),[U,W]=(0,a.useState)([]),[N,q]=(0,a.useState)("json"),[L,O]=(0,a.useState)("7days"),[G,V]=(0,a.useState)(null),$={primary:e.palette.primary.main,secondary:e.palette.secondary.main,success:e.palette.success.main,warning:e.palette.warning.main,error:e.palette.error.main,info:e.palette.info.main,pieColors:["#0088FE","#00C49F","#FFBB28","#FF8042","#A4DE6C","#8884D8","#83A6ED","#8DD1E1","#D0ED57","#F7DC6F"]};(0,a.useEffect)((()=>{(async()=>{try{const e=await C.A.isAdmin();n(e),e?(jt.initGA4(),await K()):(y("Admin access required to view analytics"),A(!1))}catch(e){console.error("Error checking admin status:",e),y("Failed to verify admin access"),A(!1)}})()}),[]);const K=async()=>{try{A(!0),y(null);const[e,t,r,a,s,n,i,o,l]=await Promise.all([jt.getUserActivity(),jt.getFeatureUsage(),jt.getFeedbackSentiment(),jt.getRetentionData(),jt.getGeographicData(),jt.getDeviceData(),jt.getBrowserData(),jt.getIssueData(),jt.detectAnomalies()]);f(e),b(t),S(r),T(a),P(s),M(n),B(i),F(o),W(l),A(!1)}catch(e){console.error("Error loading dashboard data:",e),y("Failed to load analytics data"),A(!1)}};(0,a.useEffect)((()=>{Z()}),[L]);const Z=async()=>{try{A(!0),y(null),setTimeout((()=>{const e=H(L);V(e),A(!1)}),800)}catch(e){console.error("Error loading analytics:",e),y("Failed to load analytics data. Please try again."),A(!1)}},Y=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e,J=e=>{let{value:t,previousValue:r}=e;const a=r?(t-r)/r*100:0;if(Math.abs(a)<.1)return null;const s=a>0;return(0,E.jsxs)(l.A,{component:"span",sx:{display:"flex",alignItems:"center",color:s?$.success:$.error,ml:1,fontSize:"0.875rem"},children:[s?(0,E.jsx)(Qe.A,{fontSize:"small"}):(0,E.jsx)(et.A,{fontSize:"small"}),Math.abs(a).toFixed(1),"%"]})},H=e=>{let t=7;switch(e){case"30days":t=30;break;case"90days":t=90;break;default:t=7}const r=Array.from({length:t}).map(((e,r)=>{const a=new Date;return a.setDate(a.getDate()-(t-r-1)),{date:a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),activeUsers:Math.floor(50*Math.random())+20,newUsers:Math.floor(10*Math.random())+1,sessions:Math.floor(100*Math.random())+50}})),a=r.reduce(((e,t)=>e+t.activeUsers),0),s=r.reduce(((e,t)=>e+t.newUsers),0),n=Math.floor(a*(.4*Math.random()+.8)),i=Math.floor(s*(.4*Math.random()+.8)),o=[{category:"UI/UX",count:Math.floor(30*Math.random())+15},{category:"Features",count:Math.floor(40*Math.random())+20},{category:"Performance",count:Math.floor(25*Math.random())+10},{category:"Bugs",count:Math.floor(20*Math.random())+5},{category:"Other",count:Math.floor(15*Math.random())+5}];return{activityData:r,feedbackData:o,featureUsageData:[{name:"Route Planning",usage:Math.floor(80*Math.random())+50},{name:"Map Exploration",usage:Math.floor(70*Math.random())+40},{name:"Itinerary Builder",usage:Math.floor(60*Math.random())+30},{name:"Recommendations",usage:Math.floor(50*Math.random())+30},{name:"Sharing",usage:Math.floor(40*Math.random())+20}],deviceBreakdown:[{name:"Desktop",value:Math.floor(60*Math.random())+30},{name:"Mobile",value:Math.floor(40*Math.random())+20},{name:"Tablet",value:Math.floor(20*Math.random())+10}],requestedFeatures:[{id:1,feature:"Offline Maps Support",votes:Math.floor(40*Math.random())+30,status:"planned"},{id:2,feature:"Dark Mode",votes:Math.floor(35*Math.random())+25,status:"in_progress"},{id:3,feature:"Route Sharing",votes:Math.floor(30*Math.random())+20,status:"planned"},{id:4,feature:"Weather Integration",votes:Math.floor(25*Math.random())+15,status:"under_review"},{id:5,feature:"Translation Support",votes:Math.floor(20*Math.random())+10,status:"under_review"}],geoData:[{country:"United States",users:Math.floor(100*Math.random())+50},{country:"United Kingdom",users:Math.floor(50*Math.random())+20},{country:"Canada",users:Math.floor(40*Math.random())+15},{country:"Australia",users:Math.floor(30*Math.random())+10},{country:"Germany",users:Math.floor(25*Math.random())+10},{country:"France",users:Math.floor(20*Math.random())+10},{country:"Japan",users:Math.floor(15*Math.random())+5},{country:"Other",users:Math.floor(40*Math.random())+20}],summary:{activeUsers:{current:a,previous:n},newUsers:{current:s,previous:i},feedbackCount:o.reduce(((e,t)=>e+t.count),0),surveyResponses:Math.floor(200*Math.random())+50,avgSessionDuration:Math.floor(15*Math.random())+5}}},X=t=>{switch(t){case"planned":return $.info;case"in_progress":return $.success;case"under_review":return $.warning;case"completed":return $.primary;default:return e.palette.grey[500]}},ee=e=>{switch(e){case"planned":return"Planned";case"in_progress":return"In Progress";case"under_review":return"Under Review";case"completed":return"Completed";default:return e}};return(0,E.jsxs)(l.A,{children:[(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(o.A,{variant:"h5",component:"h2",children:"Beta Analytics Dashboard"}),(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsxs)(_.A,{size:"small",sx:{minWidth:120,mr:2},children:[(0,E.jsx)(De.A,{id:"time-range-label",children:"Time Range"}),(0,E.jsxs)(Pe.A,{labelId:"time-range-label",id:"time-range-select",value:L,label:"Time Range",onChange:e=>{O(e.target.value)},children:[(0,E.jsx)(Ie.A,{value:"7days",children:"Last 7 Days"}),(0,E.jsx)(Ie.A,{value:"30days",children:"Last 30 Days"}),(0,E.jsx)(Ie.A,{value:"90days",children:"Last 90 Days"})]})]}),(0,E.jsx)(u.A,{startIcon:(0,E.jsx)(tt.A,{}),variant:"outlined",size:"small",onClick:Z,disabled:d,children:"Refresh"}),(0,E.jsx)(u.A,{startIcon:(0,E.jsx)(rt.A,{}),variant:"outlined",size:"small",sx:{ml:1},disabled:d,children:"Export"})]})]}),g&&(0,E.jsx)(c.A,{severity:"error",sx:{mb:3},children:g}),d?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,E.jsx)(i.A,{size:60})}):G?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(Q.A,{children:(0,E.jsxs)(Re.A,{children:[(0,E.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Active Users"}),(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"baseline"},children:[(0,E.jsx)(o.A,{variant:"h4",component:"div",children:Y(G.summary.activeUsers.current)}),(0,E.jsx)(J,{value:G.summary.activeUsers.current,previousValue:G.summary.activeUsers.previous})]}),(0,E.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"vs. previous period"})]})})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(Q.A,{children:(0,E.jsxs)(Re.A,{children:[(0,E.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"New Users"}),(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"baseline"},children:[(0,E.jsx)(o.A,{variant:"h4",component:"div",children:Y(G.summary.newUsers.current)}),(0,E.jsx)(J,{value:G.summary.newUsers.current,previousValue:G.summary.newUsers.previous})]}),(0,E.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"vs. previous period"})]})})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(Q.A,{children:(0,E.jsxs)(Re.A,{children:[(0,E.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Feedback Submissions"}),(0,E.jsx)(o.A,{variant:"h4",component:"div",children:Y(G.summary.feedbackCount)}),(0,E.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"across all categories"})]})})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(Q.A,{children:(0,E.jsxs)(Re.A,{children:[(0,E.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Avg. Session Duration"}),(0,E.jsxs)(o.A,{variant:"h4",component:"div",children:[G.summary.avgSessionDuration," min"]}),(0,E.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"time spent per session"})]})})})]}),(0,E.jsxs)(h.A,{sx:{mb:4},children:[(0,E.jsxs)(m.A,{value:t,onChange:(e,t)=>{r(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[(0,E.jsx)(x.A,{label:"User Activity"}),(0,E.jsx)(x.A,{label:"Feedback Analysis"}),(0,E.jsx)(x.A,{label:"Feature Usage"}),(0,E.jsx)(x.A,{label:"User Demographics"})]}),(0,E.jsxs)(l.A,{sx:{p:3},children:[0===t&&(0,E.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"User Activity Trends"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:400},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(nt.b,{data:G.activityData,margin:{top:20,right:30,left:20,bottom:10},children:[(0,E.jsx)(it.d,{strokeDasharray:"3 3"}),(0,E.jsx)(ot.W,{dataKey:"date",tick:{fontSize:12}}),(0,E.jsx)(lt.h,{tick:{fontSize:12}}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{}),(0,E.jsx)(dt.N,{type:"monotone",dataKey:"activeUsers",name:"Active Users",stroke:$.primary,activeDot:{r:8},strokeWidth:2}),(0,E.jsx)(dt.N,{type:"monotone",dataKey:"newUsers",name:"New Users",stroke:$.secondary,strokeWidth:2}),(0,E.jsx)(dt.N,{type:"monotone",dataKey:"sessions",name:"Sessions",stroke:$.info,strokeWidth:2})]})})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Device Distribution"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(ut.r,{children:[(0,E.jsx)(ht.F,{data:G.deviceBreakdown,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:G.deviceBreakdown.map(((e,t)=>(0,E.jsx)(mt.f,{fill:$.pieColors[t%$.pieColors.length]},`cell-${t}`)))}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{})]})})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Geographic Distribution"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(xt.E,{data:G.geoData,layout:"vertical",margin:{top:5,right:30,left:70,bottom:5},children:[(0,E.jsx)(it.d,{strokeDasharray:"3 3"}),(0,E.jsx)(ot.W,{type:"number"}),(0,E.jsx)(lt.h,{dataKey:"country",type:"category",tick:{fontSize:12}}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(pt.y,{dataKey:"users",name:"Users",fill:$.primary})]})})})]})]}),1===t&&(0,E.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feedback by Category"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(ut.r,{children:[(0,E.jsx)(ht.F,{data:G.feedbackData,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"count",nameKey:"category",label:e=>{let{category:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:G.feedbackData.map(((e,t)=>(0,E.jsx)(mt.f,{fill:$.pieColors[t%$.pieColors.length]},`cell-${t}`)))}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{})]})})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Top Requested Features"}),(0,E.jsx)(TableContainer,{component:h.A,variant:"outlined",sx:{height:300},children:(0,E.jsxs)(Table,{size:"small",children:[(0,E.jsx)(TableHead,{children:(0,E.jsxs)(TableRow,{children:[(0,E.jsx)(TableCell,{children:"Feature Request"}),(0,E.jsx)(TableCell,{align:"center",children:"Votes"}),(0,E.jsx)(TableCell,{align:"right",children:"Status"})]})}),(0,E.jsx)(TableBody,{children:G.requestedFeatures.map((e=>(0,E.jsxs)(TableRow,{hover:!0,children:[(0,E.jsx)(TableCell,{children:e.feature}),(0,E.jsx)(TableCell,{align:"center",children:e.votes}),(0,E.jsx)(TableCell,{align:"right",children:(0,E.jsx)(l.A,{sx:{display:"inline-block",bgcolor:X(e.status),color:"#fff",px:1.5,py:.5,borderRadius:1,fontSize:"0.75rem"},children:ee(e.status)})})]},e.id)))})]})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feedback Sentiment Analysis"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",color:"text.secondary"},children:[(0,E.jsx)(o.A,{variant:"body1",sx:{mb:2},children:"Sentiment Analysis Coming Soon"}),(0,E.jsx)(o.A,{variant:"body2",children:"This feature will analyze the sentiment of user feedback to identify trends in user satisfaction."})]})})]})]}),2===t&&(0,E.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feature Adoption Rates"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:400},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(xt.E,{data:G.featureUsageData,margin:{top:20,right:30,left:20,bottom:10},children:[(0,E.jsx)(it.d,{strokeDasharray:"3 3"}),(0,E.jsx)(ot.W,{dataKey:"name",tick:{fontSize:12}}),(0,E.jsx)(lt.h,{tick:{fontSize:12},label:{value:"Usage Count",angle:-90,position:"insideLeft",style:{textAnchor:"middle"}}}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{}),(0,E.jsx)(pt.y,{dataKey:"usage",name:"Usage Count",fill:$.primary})]})})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feature Engagement Over Time"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",color:"text.secondary"},children:[(0,E.jsx)(o.A,{variant:"body1",sx:{mb:2},children:"Feature Engagement Timeline Coming Soon"}),(0,E.jsx)(o.A,{variant:"body2",children:"This chart will show how engagement with different features changes over time."})]})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feature Retention Rates"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",color:"text.secondary"},children:[(0,E.jsx)(o.A,{variant:"body1",sx:{mb:2},children:"Feature Retention Analysis Coming Soon"}),(0,E.jsx)(o.A,{variant:"body2",children:"This chart will show the percentage of users who continue to use each feature after initial use."})]})})]})]}),3===t&&(0,E.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"User Type Distribution"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(ut.r,{children:[(0,E.jsxs)(ht.F,{data:[{name:"Consumer",value:65},{name:"Travel Professional",value:25},{name:"Business",value:10}],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:[(0,E.jsx)(mt.f,{fill:$.primary}),(0,E.jsx)(mt.f,{fill:$.secondary}),(0,E.jsx)(mt.f,{fill:$.info})]}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{})]})})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"User Engagement Level"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(ut.r,{children:[(0,E.jsxs)(ht.F,{data:[{name:"High Engagement",value:30},{name:"Medium Engagement",value:45},{name:"Low Engagement",value:25}],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:[(0,E.jsx)(mt.f,{fill:$.success}),(0,E.jsx)(mt.f,{fill:$.warning}),(0,E.jsx)(mt.f,{fill:$.error})]}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{})]})})})]}),(0,E.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Geographic Distribution"}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,height:400},children:(0,E.jsx)(st.u,{width:"100%",height:"100%",children:(0,E.jsxs)(xt.E,{data:G.geoData,margin:{top:20,right:30,left:20,bottom:10},children:[(0,E.jsx)(it.d,{strokeDasharray:"3 3"}),(0,E.jsx)(ot.W,{dataKey:"country",tick:{fontSize:12}}),(0,E.jsx)(lt.h,{tick:{fontSize:12}}),(0,E.jsx)(RechartsTooltip,{}),(0,E.jsx)(ct.s,{}),(0,E.jsx)(pt.y,{dataKey:"users",name:"Users",fill:$.primary})]})})})]})]})]})]}),(0,E.jsx)(h.A,{variant:"outlined",sx:{p:2,mb:2},children:(0,E.jsxs)(o.A,{variant:"body2",color:"textSecondary",children:[(0,E.jsx)(at.A,{fontSize:"small",sx:{verticalAlign:"middle",mr:1}}),"This dashboard shows analytics for the beta program. Data is updated daily. For real-time analytics, please use the export feature."]})})]}):(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,E.jsx)(o.A,{children:"No data available"})})]})},vt=(0,a.lazy)((()=>Promise.all([r.e(485),r.e(805)]).then(r.bind(r,82805)))),bt=()=>{const e=(0,A.A)(),t=(0,s.A)(e.breakpoints.down("sm")),{isAdmin:r,isModerator:y,isLoading:j}=je(),[f,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!0),[S,T]=(0,a.useState)(0),[D,P]=(0,a.useState)(null),[I,M]=(0,a.useState)(null),[R,B]=(0,a.useState)(!1),[z,F]=(0,a.useState)(""),[U,W]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=C.A.getToken();e?fe.A.defaults.headers.common.Authorization=`Bearer ${e}`:delete fe.A.defaults.headers.common.Authorization}),[f]),(0,a.useEffect)((()=>{(async()=>{try{w(!0);const e=await C.A.checkAuthStatus();if(e){M(e),v(!0),W(e.roles&&e.roles.includes("admin")),e.needsOnboarding&&(B(!0),e.betaCode&&F(e.betaCode));const t=C.A.getToken();t&&(fe.A.defaults.headers.common.Authorization=`Bearer ${t}`)}else v(!1),M(null),delete fe.A.defaults.headers.common.Authorization}catch(e){console.error("Authentication error:",e),P("Failed to authenticate. Please try again."),v(!1),M(null)}finally{w(!1)}})()}),[]);const N=async e=>{try{const t={...I,needsOnboarding:!1,profile:e.profile,preferences:e.preferences};M(t),B(!1);const r=await C.A.refreshUserData();r&&M(r)}catch(t){console.error("Error updating user after onboarding:",t),B(!1)}};return b||j?(0,E.jsxs)(n.A,{maxWidth:"md",sx:{py:8,textAlign:"center"},children:[(0,E.jsx)(i.A,{size:60}),(0,E.jsx)(o.A,{variant:"h6",sx:{mt:2},children:"Loading Beta Portal..."})]}):f&&R?(0,E.jsx)(Ae,{initialCode:z,onComplete:N}):(0,E.jsxs)(n.A,{maxWidth:"lg",children:[(0,E.jsxs)(l.A,{sx:{my:4},children:[(0,E.jsx)(o.A,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:"TourGuideAI Beta Program"}),D&&(0,E.jsx)(c.A,{severity:"error",sx:{mb:3},children:D}),f?(0,E.jsxs)(l.A,{children:[(0,E.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsxs)(l.A,{children:[(0,E.jsxs)(o.A,{variant:"h6",children:["Welcome, ",I.name||I.email]}),(0,E.jsxs)(l.A,{sx:{mt:1},children:[(0,E.jsx)(ge.Xh,{role:ye.gg.ADMIN,children:(0,E.jsx)(d.A,{label:"Admin",color:"error",size:"small",sx:{mr:1}})}),(0,E.jsx)(ge.Xh,{role:ye.gg.MODERATOR,children:(0,E.jsx)(d.A,{label:"Moderator",color:"warning",size:"small",sx:{mr:1}})}),(0,E.jsx)(d.A,{label:"Beta Tester",color:"primary",size:"small"})]})]}),(0,E.jsxs)(l.A,{children:[(0,E.jsx)(ge.kx,{role:[ye.gg.ADMIN,ye.gg.MODERATOR],children:(0,E.jsx)(u.A,{variant:"outlined",color:"primary",component:g.N_,to:"/admin",sx:{mr:2},children:"Admin Panel"})}),(0,E.jsx)(u.A,{variant:"outlined",color:"primary",onClick:async()=>{try{await C.A.logout(),v(!1),M(null),T(0),delete fe.A.defaults.headers.common.Authorization}catch(e){console.error("Logout error:",e),P("Failed to log out. Please try again.")}},children:"Logout"})]})]}),(0,E.jsxs)(h.A,{elevation:3,sx:{mb:4},children:[(0,E.jsxs)(m.A,{value:S,onChange:(e,t)=>{T(t)},variant:t?"scrollable":"fullWidth",scrollButtons:!!t&&"auto",centered:!t,children:[(0,E.jsx)(x.A,{label:"Dashboard"}),(0,E.jsx)(x.A,{label:"Provide Feedback"}),(0,E.jsx)(x.A,{label:"Surveys"}),(0,E.jsx)(x.A,{label:"Feature Requests"}),(0,E.jsx)(x.A,{label:"Community"}),r&&(0,E.jsx)(x.A,{label:"Analytics"}),(0,E.jsx)(x.A,{label:"Resources"})]}),(0,E.jsxs)(l.A,{sx:{p:3},children:[0===S&&(0,E.jsxs)(l.A,{children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Tester Dashboard"}),(0,E.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,E.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"User Information"}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Name:"})," ",I.name]}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Email:"})," ",I.email]}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Role:"})," ",I.role]}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Member Since:"})," ",new Date(I.registrationDate).toLocaleDateString()]})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,E.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Beta Activity"}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Feedback Submitted:"})," 0"]}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Surveys Completed:"})," 0"]}),(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsx)("strong",{children:"Features Tested:"})," 0"]})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(Ce,{})}),(0,E.jsx)(ge.kx,{role:[ye.gg.ADMIN,ye.gg.MODERATOR],children:(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{elevation:2,sx:{p:2,bgcolor:r?"error.50":"warning.50"},children:[(0,E.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Administrative Tools"}),(0,E.jsxs)(l.A,{sx:{mt:1,display:"flex",gap:2},children:[(0,E.jsx)(ge.aX,{permission:ye.Jj.CREATE_INVITE,children:(0,E.jsx)(u.A,{variant:"contained",size:"small",component:g.N_,to:"/admin/invite-codes",children:"Manage Invite Codes"})}),(0,E.jsx)(ge.Xh,{role:ye.gg.ADMIN,children:(0,E.jsx)(u.A,{variant:"contained",color:"error",size:"small",component:g.N_,to:"/admin",children:"Admin Dashboard"})})]})]})})})]})]}),1===S&&(0,E.jsxs)(l.A,{children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Provide Your Feedback"}),(0,E.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Your feedback is essential for improving TourGuideAI. Please share your thoughts, report bugs, or suggest new features."}),(0,E.jsx)(p.Ay,{container:!0,spacing:3,children:(0,E.jsx)(p.Ay,{item:!0,xs:12,children:(0,E.jsx)(h.A,{elevation:2,sx:{p:3},children:(0,E.jsx)(a.Suspense,{fallback:(0,E.jsx)(i.A,{}),children:(0,E.jsx)(vt,{})})})})})]}),2===S&&(0,E.jsx)(o.A,{variant:"body1",children:"Surveys will be implemented in subsequent tasks."}),3===S&&(0,E.jsxs)(l.A,{children:[(0,E.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Request new features or vote on existing requests to help us prioritize development."}),(0,E.jsx)(Oe,{featureService:{}})]}),4===S&&(0,E.jsxs)(l.A,{sx:{my:3},children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Connect with other beta testers"}),(0,E.jsx)(o.A,{variant:"body2",sx:{mb:2},children:"Discuss features, share ideas, and connect with other beta testers in our community forum."}),(0,E.jsx)(Xe,{})]}),5===S&&r&&(0,E.jsxs)(l.A,{sx:{my:3},children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Program Analytics"}),(0,E.jsx)(o.A,{variant:"body2",sx:{mb:2},children:"View insights and metrics about the beta program, including user activity, feature usage, and feedback trends."}),(0,E.jsx)(ft,{})]}),S===(r||y?6:5)&&(0,E.jsxs)(l.A,{children:[(0,E.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Program Resources"}),(0,E.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Access documentation, guides, and resources for the beta program."}),(0,E.jsxs)(p.Ay,{container:!0,spacing:2,children:[(0,E.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,E.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Getting Started"}),(0,E.jsx)(o.A,{variant:"body2",paragraph:!0,children:"A guide to help you get started with TourGuideAI's beta program."}),(0,E.jsx)(u.A,{size:"small",variant:"outlined",children:"View Guide"})]})}),(0,E.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,E.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Providing Effective Feedback"}),(0,E.jsx)(o.A,{variant:"body2",paragraph:!0,children:"Learn how to provide feedback that helps us improve TourGuideAI."}),(0,E.jsx)(u.A,{size:"small",variant:"outlined",children:"View Guide"})]})})]})]})]})]})]}):(0,E.jsx)(l.A,{sx:{mt:4},children:(0,E.jsxs)(h.A,{elevation:3,sx:{p:4},children:[(0,E.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,align:"center",children:"Join Our Beta Program"}),(0,E.jsx)(o.A,{variant:"body1",paragraph:!0,align:"center",children:"Get early access to TourGuideAI and help shape the future of travel planning."}),(0,E.jsx)(k,{onSuccess:e=>{M(e),v(!0),W(e.roles&&e.roles.includes("admin")),e.betaCode&&F(e.betaCode),B(!0)}})]})})]}),f&&(0,E.jsx)(a.Suspense,{fallback:null,children:(0,E.jsx)(vt,{})})]})}},93846:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45901),s=r(20860);r(97714);const n="/api/invite-codes";const i=new class{async generateCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{sendEmail:t,recipientEmail:r}=e;return(await a.Ay.post(`${n}/generate`,{sendEmail:t,recipientEmail:r},{headers:(0,s.z)()})).data.inviteCode}catch(t){throw console.error("Error generating invite code:",t),t}}async getAllCodes(){try{return(await a.Ay.get(n,{headers:(0,s.z)()})).data.codes||[]}catch(e){throw console.error("Error getting invite codes:",e),e}}async validateCode(e){try{return(await a.Ay.post(`${n}/validate`,{code:e})).data.valid}catch(t){return console.error("Error validating invite code:",t),!1}}async invalidateCode(e){try{return!!(await a.Ay.post(`${n}/invalidate`,{code:e},{headers:(0,s.z)()})).data.message}catch(t){return console.error("Error invalidating invite code:",t),!1}}async sendInviteCodeEmail(e,t){try{return(await a.Ay.post(`${n}/send`,{code:e,email:t},{headers:(0,s.z)()})).data.emailSent}catch(r){return console.error("Error sending invite code email:",r),!1}}}},97714:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(23509),s=r(20860);const n="/api/emails",i={requestEmailVerification:async()=>{try{return(await a.A.post(`${n}/resend-verification`,{},{headers:(0,s.z)()})).data}catch(e){throw console.error("Error requesting email verification:",e),e}},verifyEmail:async e=>{try{return(await a.A.post(`${n}/verify`,{token:e})).data}catch(t){throw console.error("Error verifying email:",t),t}},requestPasswordReset:async e=>{try{return(await a.A.post("/auth/request-password-reset",{email:e})).data}catch(t){throw console.error("Error requesting password reset:",t),t}},resetPassword:async(e,t)=>{try{return(await a.A.post("/auth/reset-password",{token:e,newPassword:t})).data}catch(r){throw console.error("Error resetting password:",r),r}},sendInviteCode:async(e,t)=>{try{return(await a.A.post(`${n}/send-invite`,{email:t,code:e},{headers:(0,s.z)()})).data}catch(r){throw console.error("Error sending invitation code:",r),r}}}}}]);
//# sourceMappingURL=698.168524a0.chunk.js.map