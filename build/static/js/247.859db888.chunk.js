"use strict";(self.webpackChunktour_guide_ai=self.webpackChunktour_guide_ai||[]).push([[247],{38247:(e,a,r)=>{r.r(a),r.d(a,{default:()=>l});var s=r(82483),t=r(93376),n=r(48507),i=r(56723);const u=()=>{const[e,a]=(0,s.useState)({openai:!1,maps:!1,checking:!0,error:null});return(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,n.BS)();a({openai:e.isConfigured,maps:!1,checking:!1,error:null})}catch(e){a({openai:!1,maps:!1,checking:!1,error:e.message})}})()}),[]),e.checking?(0,i.jsx)("div",{className:"api-status",children:"Checking API status..."}):e.error?(0,i.jsxs)("div",{className:"api-status api-status-error",children:[(0,i.jsx)("h3",{children:"API Status Error"}),(0,i.jsx)("p",{children:e.error}),(0,i.jsx)("p",{children:"Please check your API configuration in the .env file."})]}):(0,i.jsxs)("div",{className:"api-status",children:[(0,i.jsx)("h3",{children:"API Status"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:e.openai?"api-connected":"api-disconnected",children:["OpenAI API: ",e.openai?"Connected":"Not Connected",!e.openai&&(0,i.jsx)("p",{className:"api-help",children:"Please set your OpenAI API key in the .env file (REACT_APP_OPENAI_API_KEY)."})]}),(0,i.jsxs)("li",{className:e.maps?"api-connected":"api-disconnected",children:["Google Maps API: ",e.maps?"Connected":"Not Connected",!e.maps&&(0,i.jsx)("p",{className:"api-help",children:"Please set your Google Maps API key in the .env file (REACT_APP_GOOGLE_MAPS_API_KEY)."})]})]})]})},o=[{user_profile:"https://randomuser.me/api/portraits/men/1.jpg",user_name:"uid001",user_route_id:"uid001-1",upvotes:100,user_route_name:"A 3-day US travel plan",created_date:"2025-01-01"},{user_profile:"https://randomuser.me/api/portraits/women/2.jpg",user_name:"uid002",user_route_id:"uid002-1",upvotes:85,user_route_name:"Paris weekend getaway",created_date:"2025-01-02"},{user_profile:"https://randomuser.me/api/portraits/men/3.jpg",user_name:"uid003",user_route_id:"uid003-1",upvotes:72,user_route_name:"Tokyo adventure",created_date:"2025-01-03"}],c=[{upvote_rank_number:1,user_profile:"https://randomuser.me/api/portraits/men/1.jpg",user_name:"uid001",user_route_id:"uid001-1",upvotes:100,user_route_name:"A 3-day US travel plan",created_date:"2025-01-01"},{upvote_rank_number:2,user_profile:"https://randomuser.me/api/portraits/women/2.jpg",user_name:"uid002",user_route_id:"uid002-1",upvotes:85,user_route_name:"Paris weekend getaway",created_date:"2025-01-02"},{upvote_rank_number:3,user_profile:"https://randomuser.me/api/portraits/men/3.jpg",user_name:"uid003",user_route_id:"uid003-1",upvotes:72,user_route_name:"Tokyo adventure",created_date:"2025-01-03"},{upvote_rank_number:4,user_profile:"https://randomuser.me/api/portraits/women/4.jpg",user_name:"uid004",user_route_id:"uid004-1",upvotes:65,user_route_name:"Rome historical tour",created_date:"2025-01-04"},{upvote_rank_number:5,user_profile:"https://randomuser.me/api/portraits/men/5.jpg",user_name:"uid005",user_route_id:"uid005-1",upvotes:58,user_route_name:"Barcelona beach vacation",created_date:"2025-01-05"}],d=()=>{const e=["#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#c5cae9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2"];return e[Math.floor(Math.random()*e.length)]},l=()=>{const e=(0,t.Zp)(),[a,r]=(0,s.useState)(""),[l,p]=(0,s.useState)(!1),[m,_]=(0,s.useState)(null),h=a=>{e("/map",{state:{routeId:a}})};return(0,i.jsxs)("div",{className:"chat-page",children:[(0,i.jsx)("h1",{className:"page-title",children:"Your personal tour guide!"}),(0,i.jsx)(u,{}),(0,i.jsxs)("div",{className:"chat-container",children:[(0,i.jsxs)("div",{className:"input-section",children:[(0,i.jsx)("textarea",{className:"input-box",placeholder:"Tell me about your dream vacation...",value:a,onChange:e=>r(e.target.value)}),(0,i.jsxs)("div",{className:"button-group",children:[(0,i.jsx)("button",{className:"btn btn-primary generate-btn",onClick:async()=>{if(a.trim()){p(!0),_(null);try{const r=await n.kw(a),s=await n.Z5(a);e("/map",{state:{userQuery:a,intentData:r,routeData:s}})}catch(r){console.error("Error generating route:",r),_("Failed to generate route. Please try again.")}finally{p(!1)}}},disabled:!a.trim()||l,children:l?"Generating...":"Generate your first plan!"}),(0,i.jsx)("button",{className:"btn btn-secondary lucky-btn",onClick:async()=>{p(!0),_(null);try{const a=await n.yN();e("/map",{state:{userQuery:"Random destination",intentData:null,routeData:a}})}catch(a){console.error("Error generating random route:",a),_("Failed to generate random route. Please try again.")}finally{p(!1)}},disabled:!a.trim()||l,children:"Feel lucky?"})]}),m&&(0,i.jsx)("div",{className:"error-message",children:m})]}),(0,i.jsxs)("div",{className:"content-section",children:[(0,i.jsxs)("div",{className:"live-popup-section",children:[(0,i.jsx)("h2",{children:"Live Activity"}),(0,i.jsx)("div",{className:"popup-container",children:o.map(((a,r)=>(0,i.jsxs)("div",{className:"popup-item",style:{backgroundColor:d()},onClick:()=>{return r=a.user_route_id,void e("/map",{state:{routeId:r}});var r},children:[(0,i.jsx)("img",{src:a.user_profile,alt:a.user_name,className:"user-avatar"}),(0,i.jsxs)("div",{className:"popup-content",children:[(0,i.jsx)("p",{className:"user-name",children:a.user_name}),(0,i.jsx)("p",{className:"route-name",children:a.user_route_name})]})]},r)))})]}),(0,i.jsxs)("div",{className:"rankboard-section",children:[(0,i.jsx)("h2",{children:"Top Routes"}),(0,i.jsxs)("div",{className:"rankboard-container",children:[(0,i.jsx)("div",{className:"top-three",children:c.slice(0,3).map((e=>(0,i.jsxs)("div",{className:"medal-item",onClick:()=>h(e.user_route_id),children:[(0,i.jsxs)("div",{className:`medal rank-${e.upvote_rank_number}`,children:[(0,i.jsx)("img",{src:e.user_profile,alt:e.user_name,className:"user-avatar"}),(0,i.jsx)("div",{className:"upvote-badge",children:e.upvotes})]}),(0,i.jsx)("p",{className:"user-name",children:e.user_name}),(0,i.jsx)("p",{className:"route-name",children:e.user_route_name})]},e.upvote_rank_number)))}),(0,i.jsx)("div",{className:"other-ranks",children:c.slice(3).map((e=>(0,i.jsxs)("div",{className:"rank-item",onClick:()=>h(e.user_route_id),children:[(0,i.jsx)("div",{className:"rank-number",children:e.upvote_rank_number}),(0,i.jsxs)("div",{className:"rank-details",children:[(0,i.jsx)("p",{className:"route-name",children:e.user_route_name}),(0,i.jsxs)("p",{className:"upvotes",children:[e.upvotes," upvotes"]})]})]},e.upvote_rank_number)))})]})]})]})]})]})}}}]);
//# sourceMappingURL=247.859db888.chunk.js.map