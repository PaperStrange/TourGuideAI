"use strict";(self.webpackChunktour_guide_ai=self.webpackChunktour_guide_ai||[]).push([[533],{92533:(e,t,r)=>{r.r(t),r.d(t,{default:()=>hr});var a=r(82483),s=r(10376),n=r(43063),i=r(20792),o=r(65470),l=r(52891),c=r(60146),d=r(71756),u=r(95619),h=r(77924),m=r(32701),x=r(87686),p=r(57513),g=r(28896),A=r(99891),y=r(98761),j=r(98717),f=r(55988),v=r(16253),b=r(74312),w=r(70407),S=r(62224),C=r(20860),k=r(56723);const E=e=>{let{onSuccess:t}=e;const[r,s]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",betaCode:""}),[n,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[x,g]=(0,a.useState)({}),[A,E]=(0,a.useState)(null),[D,M]=(0,a.useState)(null),[I,T]=(0,a.useState)(!1),P=[{id:"length",label:"At least 8 characters",test:e=>e.length>=8},{id:"uppercase",label:"At least one uppercase letter",test:e=>/[A-Z]/.test(e)},{id:"lowercase",label:"At least one lowercase letter",test:e=>/[a-z]/.test(e)},{id:"number",label:"At least one number",test:e=>/\d/.test(e)},{id:"special",label:"At least one special character",test:e=>/[^A-Za-z0-9]/.test(e)}],R=e=>P.map((t=>({...t,fulfilled:t.test(e)}))),F=e=>{const{name:t,value:a}=e.target;s({...r,[t]:a}),x[t]&&g({...x,[t]:null}),A&&E(null)};return(0,k.jsxs)(l.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};r.name.trim()||(e.name="Name is required"),r.email?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",r.password?R(r.password).filter((e=>!e.fulfilled)).length>0&&(e.password="Password does not meet requirements"):e.password="Password is required";return r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",r.betaCode?6!==r.betaCode.length&&(e.betaCode="Beta code must be 6 characters"):e.betaCode="Beta access code is required",g(e),0===Object.keys(e).length})()){T(!0),E(null),M(null);try{if(!await C.A.validateBetaCode(r.betaCode))return g({...x,betaCode:"Invalid or expired beta code"}),void T(!1);const e=await C.A.register(r.email,r.betaCode,r.name,r.password);if(!e)return E("Registration failed: Invalid server response"),void T(!1);M("Registration successful! Redirecting to your dashboard..."),setTimeout((()=>{t&&t(e)}),1500)}catch(a){if(console.error("Registration error:",a),a.response&&a.response.data&&a.response.data.error){const e=a.response.data.error;"duplicate_email"===e.type?g({...x,email:"This email is already registered"}):"invalid_invite_code"===e.type?g({...x,betaCode:"Invalid or expired beta code"}):E(e.message||"Registration failed")}else E("Registration failed: "+(a.message||"Unknown error"))}finally{T(!1)}}},noValidate:!0,children:[A&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:2},children:A}),D&&(0,k.jsx)(c.A,{severity:"success",sx:{mb:2},children:D}),(0,k.jsxs)(p.Ay,{container:!0,spacing:2,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{name:"name",label:"Full Name",fullWidth:!0,value:r.name,onChange:F,error:!!x.name,helperText:x.name,disabled:I,required:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{name:"email",label:"Email Address",fullWidth:!0,type:"email",value:r.email,onChange:F,error:!!x.email,helperText:x.email,disabled:I,required:!0})}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(j.A,{name:"password",label:"Password",fullWidth:!0,type:n?"text":"password",value:r.password,onChange:F,error:!!x.password,helperText:x.password,disabled:I,required:!0,InputProps:{endAdornment:(0,k.jsx)(f.A,{position:"end",children:(0,k.jsx)(v.A,{onClick:()=>{d(!n)},edge:"end",children:n?(0,k.jsx)(w.A,{}):(0,k.jsx)(S.A,{})})})}}),(()=>{if(!r.password)return null;const e=R(r.password);return(0,k.jsxs)(l.A,{sx:{mt:1,mb:2},children:[(0,k.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"Password requirements:"}),(0,k.jsx)(p.Ay,{container:!0,spacing:1,children:e.map((e=>(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsxs)(y.A,{sx:{color:e.fulfilled?"success.main":"text.secondary",display:"flex",alignItems:"center"},children:[e.fulfilled?"\u2713":"\u25cb"," ",e.label]})},e.id)))})]})})()]}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{name:"confirmPassword",label:"Confirm Password",fullWidth:!0,type:h?"text":"password",value:r.confirmPassword,onChange:F,error:!!x.confirmPassword,helperText:x.confirmPassword,disabled:I,required:!0,InputProps:{endAdornment:(0,k.jsx)(f.A,{position:"end",children:(0,k.jsx)(v.A,{onClick:()=>{m(!h)},edge:"end",children:h?(0,k.jsx)(w.A,{}):(0,k.jsx)(S.A,{})})})}})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(b.A,{sx:{my:1}})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{name:"betaCode",label:"Beta Access Code",fullWidth:!0,value:r.betaCode,onChange:F,error:!!x.betaCode,helperText:x.betaCode||"Enter the 6-character code you received via email",disabled:I,required:!0,inputProps:{maxLength:6}})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:I,sx:{mt:2},children:I?(0,k.jsx)(i.A,{size:24}):"Register"})})]})]})};var D=r(17109),M=r(20117),I=r(59206),T=r(26855),P=r(93846),R=r(61982),F=r(8161),B=r(3888),z=r(83280),_=r(11554),U=r(44088),q=r(43007),N=r(44203),W=r(23509);const $=e=>{let{onSuccess:t,onError:r}=e;const[s,n]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[A,y]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null),S=e=>/^[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}$/.test(e);return(0,k.jsxs)(R.A,{sx:{maxWidth:500,mx:"auto",mt:4,boxShadow:3,borderRadius:2},children:[(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,align:"center",children:"Enter Beta Invite Code"}),(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,align:"center",children:"Please enter the invite code you received via email to access the beta program."}),m&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:2},action:(0,k.jsx)(v.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>x(null),children:(0,k.jsx)(N.A,{fontSize:"inherit"})}),children:m}),p&&(0,k.jsx)(c.A,{severity:"success",sx:{mb:2},action:(0,k.jsx)(v.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>g(!1),children:(0,k.jsx)(N.A,{fontSize:"inherit"})}),children:"Code accepted! Proceeding to account setup..."}),(0,k.jsxs)(l.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),S(s)){h(!0),x(null);try{const e=await W.m.post("/beta/redeem-code",{code:s});h(!1),e.valid?(g(!0),w("valid"),t&&setTimeout((()=>{t(e.userData)}),1e3)):(x(e.message||"Invalid or expired code"),w("invalid"),r&&r(e.message))}catch(a){h(!1),x(a.message||"Failed to validate code. Please try again."),w("invalid"),r&&r(a.message)}}else x("Please enter a valid invite code (XXXX-XXXX-XXXX)")},noValidate:!0,children:[(0,k.jsx)(j.A,{fullWidth:!0,label:"Beta Invite Code",variant:"outlined",value:s,onChange:e=>{const t=e.target.value;n(t),x(null),4!==t.length||t.includes("-")?9===t.length&&-1===t.indexOf("-",5)&&n(t+"-"):n(t+"-"),t.length>0?S(t)?w("valid"):t.length>=14?w("invalid"):w("validating"):w(null)},margin:"normal",placeholder:"XXXX-XXXX-XXXX",disabled:d||p,error:"invalid"===b,helperText:"invalid"===b?"Invalid code format":"",InputProps:{endAdornment:(0,k.jsx)(f.A,{position:"end",children:"valid"===b?(0,k.jsx)(_.A,{color:"success"}):"invalid"===b?(0,k.jsx)(U.A,{color:"error"}):"validating"===b&&s.length>0?(0,k.jsx)(i.A,{size:20}):null})},sx:{mb:2}}),(0,k.jsx)(B.A,{in:A,children:(0,k.jsxs)(c.A,{severity:"info",sx:{mb:2},children:[(0,k.jsx)(o.A,{variant:"body2",children:"Your beta invite code was sent to your email address when you were selected for the beta program. The code is in the format XXXX-XXXX-XXXX (e.g., A1B2-C3D4-E5F6)."}),(0,k.jsx)(o.A,{variant:"body2",sx:{mt:1},children:"If you've lost your code or didn't receive one, please contact support at beta@tourguideai.com"})]})}),(0,k.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,k.jsx)(u.A,{startIcon:(0,k.jsx)(q.A,{}),onClick:()=>y(!A),color:"secondary",children:A?"Hide Help":"Need Help?"}),(0,k.jsx)(u.A,{variant:"contained",color:"primary",type:"submit",disabled:d||p||"valid"!==b,sx:{minWidth:120},children:d?(0,k.jsx)(i.A,{size:24}):"Redeem Code"})]})]})]}),(0,k.jsx)(z.A,{sx:{justifyContent:"center",pb:2},children:(0,k.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["Don't have a code? ",(0,k.jsx)(u.A,{color:"secondary",size:"small",children:"Request Access"})]})})]})};var O=r(15269),L=r(19473),X=r(91186);const V=e=>{var t,r,s,n,d,h;let{initialData:m={},onComplete:x}=e;const[g,A]=(0,a.useState)({name:m.name||"",email:m.email||"",username:m.username||"",profilePicture:m.profilePicture||null}),[y,b]=(0,a.useState)(null),[w,S]=(0,a.useState)({username:!1,email:!1}),[C,E]=(0,a.useState)({name:null,email:null,username:null}),[D,M]=(0,a.useState)(!1),[I,T]=(0,a.useState)(null);(0,a.useEffect)((()=>{if(g.profilePicture&&"object"===typeof g.profilePicture){const e=new FileReader;e.onloadend=()=>{b(e.result)},e.readAsDataURL(g.profilePicture)}else g.profilePicture&&"string"===typeof g.profilePicture?b(g.profilePicture):b(null)}),[g.profilePicture]);const P=e=>{const{name:t,value:r}=e.target;A((e=>({...e,[t]:r}))),C[t]&&E((e=>({...e,[t]:null}))),"email"===t?B(r,!1):"username"===t&&z(r,!1)},B=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e))return E((e=>({...e,email:{valid:!1,message:"Please enter a valid email address"}}))),!1;t&&S((e=>({...e,email:!0})));try{const t=await W.m.get(`/beta/validate-email?email=${encodeURIComponent(e)}`);return S((e=>({...e,email:!1}))),t.available?(E((e=>({...e,email:{valid:!0,message:"Email is available"}}))),!0):(E((e=>({...e,email:{valid:!1,message:"Email is already in use"}}))),!1)}catch(r){return S((e=>({...e,email:!1}))),E((e=>({...e,email:{valid:!1,message:"Unable to validate email"}}))),!1}},z=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!/^[a-zA-Z0-9_]{3,20}$/.test(e))return E((e=>({...e,username:{valid:!1,message:"Username must be 3-20 characters and contain only letters, numbers, and underscores"}}))),!1;t&&S((e=>({...e,username:!0})));try{const t=await W.m.get(`/beta/validate-username?username=${encodeURIComponent(e)}`);return S((e=>({...e,username:!1}))),t.available?(E((e=>({...e,username:{valid:!0,message:"Username is available"}}))),!0):(E((e=>({...e,username:{valid:!1,message:"Username is already taken"}}))),!1)}catch(r){return S((e=>({...e,username:!1}))),E((e=>({...e,username:{valid:!1,message:"Unable to validate username"}}))),!1}},q=async()=>{const e=!(t=g.name)||t.trim().length<2?(E((e=>({...e,name:{valid:!1,message:"Please enter your name (minimum 2 characters)"}}))),!1):(E((e=>({...e,name:{valid:!0,message:null}}))),!0);var t;const r=await B(g.email),a=await z(g.username);return e&&r&&a},N=e=>{if(!C[e])return null;const{valid:t,message:r}=C[e];return t?(0,k.jsx)(f.A,{position:"end",children:(0,k.jsx)(_.A,{color:"success"})}):(0,k.jsx)(f.A,{position:"end",children:(0,k.jsx)(U.A,{color:"error"})})};return(0,k.jsx)(R.A,{sx:{maxWidth:700,mx:"auto",boxShadow:0},children:(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,align:"center",children:"Create Your Profile"}),(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,align:"center",children:"Set up your profile information for the beta program."}),I&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:3},action:(0,k.jsx)(v.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>T(null),children:(0,k.jsx)(X.A,{fontSize:"inherit"})}),children:I}),(0,k.jsxs)(l.A,{component:"form",onSubmit:async e=>{e.preventDefault(),M(!0),T(null);if(!await q())return M(!1),void T("Please fix the validation errors before proceeding");try{g.profilePicture&&"object"===typeof g.profilePicture&&(console.log("Uploading profile picture..."),g.profilePicture=URL.createObjectURL(g.profilePicture)),x(g)}catch(t){T(t.message||"Failed to save profile. Please try again."),M(!1)}},noValidate:!0,children:[(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,display:"flex",justifyContent:"center",children:(0,k.jsxs)(l.A,{textAlign:"center",children:[(0,k.jsx)(O.A,{src:y,sx:{width:120,height:120,mb:2,bgcolor:"primary.main"},children:!y&&(g.name?g.name.charAt(0).toUpperCase():"U")}),(0,k.jsxs)(l.A,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[(0,k.jsxs)(u.A,{variant:"outlined",component:"label",startIcon:(0,k.jsx)(L.A,{}),children:[y?"Change Photo":"Upload Photo",(0,k.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void T("Profile picture must be less than 5MB");if(!t.type.startsWith("image/"))return void T("Selected file must be an image");A((e=>({...e,profilePicture:t}))),T(null)}}})]}),y&&(0,k.jsx)(u.A,{variant:"outlined",color:"error",onClick:()=>{A((e=>({...e,profilePicture:null}))),b(null)},children:"Remove"})]}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",display:"block",mt:1,children:"Max size: 5MB. Recommended: 400x400px"})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Full Name",name:"name",value:g.name,onChange:P,variant:"outlined",placeholder:"Enter your full name",helperText:(null===(t=C.name)||void 0===t?void 0:t.message)||"Your name as you'd like it to appear in the beta program",error:!1===(null===(r=C.name)||void 0===r?void 0:r.valid),InputProps:{endAdornment:N("name")},required:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Email",name:"email",type:"email",value:g.email,onChange:P,variant:"outlined",placeholder:"your@email.com",helperText:(null===(s=C.email)||void 0===s?void 0:s.message)||"We'll send beta invites to this email",error:!1===(null===(n=C.email)||void 0===n?void 0:n.valid),InputProps:{endAdornment:w.email?(0,k.jsx)(f.A,{position:"end",children:(0,k.jsx)(i.A,{size:20})}):N("email")},required:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Username",name:"username",value:g.username,onChange:P,variant:"outlined",placeholder:"username",helperText:(null===(d=C.username)||void 0===d?void 0:d.message)||"Choose a unique username (3-20 characters)",error:!1===(null===(h=C.username)||void 0===h?void 0:h.valid),InputProps:{startAdornment:(0,k.jsx)(f.A,{position:"start",children:"@"}),endAdornment:w.username?(0,k.jsx)(f.A,{position:"end",children:(0,k.jsx)(i.A,{size:20})}):N("username")},required:!0})})]}),(0,k.jsx)(l.A,{sx:{mt:4,display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(u.A,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:D,sx:{minWidth:150},children:D?(0,k.jsx)(i.A,{size:24}):"Save Profile"})})]})]})})};var G=r(42049),Z=r(74225),K=r(59909),Y=r(52307),H=r(98844),J=r(60750),Q=r(18669),ee=r(86196),te=r(13132),re=r(12046),ae=r(89902),se=r(99218);const ne=e=>{let{initialPreferences:t={},onComplete:r}=e;const s={notifications:{email:!0,push:!0,digest:"daily"},privacy:{dataSharing:!0,analyticsCollection:!0,feedbackSharing:!0},features:{earlyAccess:!0,betaFeatures:!0,experimentalFeatures:!1}},[n,i]=(0,a.useState)({...s,...t,notifications:{...s.notifications,...t.notifications||{}},privacy:{...s.privacy,...t.privacy||{}},features:{...s.features,...t.features||{}}}),d=(e,t)=>r=>{i({...n,[e]:{...n[e],[t]:r.target.checked}})};return(0,k.jsx)(R.A,{sx:{maxWidth:700,mx:"auto",boxShadow:0},children:(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,align:"center",children:"Set Your Preferences"}),(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",paragraph:!0,align:"center",children:"Customize your beta experience with these preferences. You can change these settings anytime later."}),(0,k.jsxs)(l.A,{component:"form",onSubmit:e=>{e.preventDefault(),r(n)},sx:{mt:3},children:[(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsxs)(h.A,{variant:"outlined",sx:{p:3,borderRadius:2},children:[(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",mb:2,children:[(0,k.jsx)(re.A,{color:"primary",sx:{mr:1}}),(0,k.jsx)(o.A,{variant:"h6",children:"Notification Preferences"})]}),(0,k.jsxs)(G.A,{children:[(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.notifications.email,onChange:d("notifications","email"),color:"primary"}),label:"Email Notifications"}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{ml:4,mt:-1,mb:1,display:"block"},children:"Receive important updates, feature announcements, and feedback requests via email"}),(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.notifications.push,onChange:d("notifications","push"),color:"primary"}),label:"Push Notifications"}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{ml:4,mt:-1,mb:1,display:"block"},children:"Receive real-time alerts in your browser for important updates"}),(0,k.jsx)(l.A,{mt:2,children:(0,k.jsxs)(Y.A,{component:"fieldset",children:[(0,k.jsx)(H.A,{component:"legend",children:"Digest Frequency"}),(0,k.jsxs)(J.A,{value:n.notifications.digest,onChange:(m="notifications",x="digest",e=>{i({...n,[m]:{...n[m],[x]:e.target.value}})}),row:!0,children:[(0,k.jsx)(Z.A,{value:"daily",control:(0,k.jsx)(Q.A,{}),label:"Daily"}),(0,k.jsx)(Z.A,{value:"weekly",control:(0,k.jsx)(Q.A,{}),label:"Weekly"}),(0,k.jsx)(Z.A,{value:"never",control:(0,k.jsx)(Q.A,{}),label:"Never"})]})]})})]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsxs)(h.A,{variant:"outlined",sx:{p:3,borderRadius:2},children:[(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",mb:2,children:[(0,k.jsx)(ae.A,{color:"primary",sx:{mr:1}}),(0,k.jsx)(o.A,{variant:"h6",children:"Privacy Preferences"})]}),(0,k.jsx)(c.A,{severity:"info",sx:{mb:2},children:"As a beta tester, your feedback and usage data help us improve the product. You can adjust how much information is shared with us."}),(0,k.jsxs)(G.A,{children:[(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.privacy.dataSharing,onChange:d("privacy","dataSharing"),color:"primary"}),label:(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",children:["Usage Data Sharing",(0,k.jsx)(ee.A,{title:"We collect anonymous usage data to improve the product experience. This includes features used, time spent, and interaction patterns.",children:(0,k.jsx)(v.A,{size:"small",children:(0,k.jsx)(te.A,{fontSize:"small"})})})]})}),(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.privacy.analyticsCollection,onChange:d("privacy","analyticsCollection"),color:"primary"}),label:(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",children:["Performance Analytics",(0,k.jsx)(ee.A,{title:"Helps us identify performance issues, errors, and areas for optimization.",children:(0,k.jsx)(v.A,{size:"small",children:(0,k.jsx)(te.A,{fontSize:"small"})})})]})}),(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.privacy.feedbackSharing,onChange:d("privacy","feedbackSharing"),color:"primary"}),label:(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",children:["Feedback Sharing",(0,k.jsx)(ee.A,{title:"Allow your feedback to be shared (anonymously) with the product team to prioritize features.",children:(0,k.jsx)(v.A,{size:"small",children:(0,k.jsx)(te.A,{fontSize:"small"})})})]})})]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsxs)(h.A,{variant:"outlined",sx:{p:3,borderRadius:2},children:[(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",mb:2,children:[(0,k.jsx)(se.A,{color:"primary",sx:{mr:1}}),(0,k.jsx)(o.A,{variant:"h6",children:"Feature Preferences"})]}),(0,k.jsxs)(G.A,{children:[(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.features.earlyAccess,onChange:d("features","earlyAccess"),color:"primary"}),label:"Early Access Features"}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{ml:4,mt:-1,mb:1,display:"block"},children:"Get access to new features before they're released to the public"}),(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.features.betaFeatures,onChange:d("features","betaFeatures"),color:"primary"}),label:"Beta Features"}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{ml:4,mt:-1,mb:1,display:"block"},children:"Enable beta features that are still under active development"}),(0,k.jsx)(Z.A,{control:(0,k.jsx)(K.A,{checked:n.features.experimentalFeatures,onChange:d("features","experimentalFeatures"),color:"primary"}),label:(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",children:["Experimental Features",(0,k.jsx)(ee.A,{title:"Warning: These features may be unstable and could cause unexpected behavior.",children:(0,k.jsx)(v.A,{size:"small",children:(0,k.jsx)(te.A,{fontSize:"small",color:"warning"})})})]})}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{ml:4,mt:-1,mb:1,display:"block"},children:"Try experimental features that are in early stages of development"})]})]})})]}),(0,k.jsx)(l.A,{sx:{mt:4,display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(u.A,{type:"submit",variant:"contained",color:"primary",size:"large",sx:{minWidth:150},children:"Save Preferences"})})]})]})});var m,x};var ie=r(85555),oe=r(79834),le=r(41410),ce=r(23390),de=r(21681),ue=r(69e3),he=r(32134),me=r(23),xe=r(85201);const pe=e=>{let{userName:t,onComplete:r,loading:s,error:n}=e;const d=[{icon:(0,k.jsx)(he.A,{color:"primary"}),title:"AI-Powered Chat",description:"Generate personalized travel plans based on your preferences using our advanced AI"},{icon:(0,k.jsx)(ue.A,{color:"primary"}),title:"Interactive Maps",description:"Visualize your travel routes and discover points of interest along the way"},{icon:(0,k.jsx)(de.A,{color:"primary"}),title:"Customized Itineraries",description:"Create and save detailed itineraries tailored to your travel style and interests"},{icon:(0,k.jsx)(me.A,{color:"primary"}),title:"Beta Feedback",description:"Share your thoughts and suggestions to help shape the future of TourGuideAI"}],m=["Explore the dashboard to get familiar with the interface","Create your first travel plan using the Chat feature","Visualize your route on the interactive Map","Share your feedback about your experience"];return(0,k.jsx)(R.A,{sx:{maxWidth:800,mx:"auto",boxShadow:0},children:(0,k.jsxs)(F.A,{children:[(0,k.jsxs)(l.A,{textAlign:"center",mb:4,children:[(0,k.jsxs)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,children:["Welcome to TourGuideAI Beta, ",t||"Explorer","!"]}),(0,k.jsx)(o.A,{variant:"body1",color:"text.secondary",children:"Thank you for joining our beta program. We're excited to have you help us shape the future of travel planning!"})]}),n&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:3},children:n}),(0,k.jsxs)(p.Ay,{container:!0,spacing:4,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,sx:{ml:2},children:"Key Features to Explore"}),(0,k.jsx)(p.Ay,{container:!0,spacing:2,children:d.map(((e,t)=>(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsxs)(h.A,{elevation:1,sx:{p:2,height:"100%",borderRadius:2,transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:3}},children:[(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",mb:1,children:[(0,k.jsx)(l.A,{mr:1,children:e.icon}),(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:e.title})]}),(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:e.description})]})},t)))})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,sx:{ml:2},children:"Your Next Steps"}),(0,k.jsx)(h.A,{elevation:1,sx:{p:3,borderRadius:2},children:(0,k.jsx)(ie.A,{children:m.map(((e,t)=>(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(oe.Ay,{children:[(0,k.jsx)(le.A,{children:(0,k.jsx)(_.A,{color:"primary"})}),(0,k.jsx)(ce.A,{primary:e})]}),t<m.length-1&&(0,k.jsx)(b.A,{component:"li"})]},t)))})})]}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(h.A,{elevation:1,sx:{p:3,borderRadius:2,bgcolor:"primary.light",color:"primary.contrastText"},children:(0,k.jsxs)(l.A,{display:"flex",alignItems:"center",justifyContent:"center",children:[(0,k.jsx)(xe.A,{sx:{mr:1}}),(0,k.jsx)(o.A,{variant:"body1",fontWeight:"medium",children:"You're now an official TourGuideAI Beta Tester! Your feedback will help us create a better product."})]})})})]}),(0,k.jsx)(l.A,{display:"flex",justifyContent:"center",mt:4,children:(0,k.jsx)(u.A,{variant:"contained",color:"primary",size:"large",onClick:()=>{r&&r()},disabled:s,sx:{minWidth:200,py:1.5,fontSize:"1.1rem",boxShadow:2},children:s?(0,k.jsx)(i.A,{size:24,color:"inherit"}):"Get Started!"})})]})})},ge=(0,T.Ay)(h.A)((e=>{let{theme:t}=e;return{padding:t.spacing(4),marginTop:t.spacing(2),marginBottom:t.spacing(2),boxShadow:t.shadows[3],borderRadius:2*t.shape.borderRadius}})),Ae=(0,T.Ay)(l.A)((e=>{let{theme:t}=e;return{marginTop:t.spacing(3),marginBottom:t.spacing(3),minHeight:"300px"}})),ye=(0,T.Ay)(l.A)((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"space-between",marginTop:t.spacing(4)}})),je=e=>{let{onComplete:t,initialCode:r=""}=e;const s=["Redeem Beta Code","Setup Your Profile","Set Preferences","Welcome to Beta"],[d,h]=(0,a.useState)(0),[m,x]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[A,y]=(0,a.useState)(null),[j,f]=(0,a.useState)(r),[v,w]=(0,a.useState)({displayName:"",jobTitle:"",company:"",profilePicture:null,bio:""}),[S,E]=(0,a.useState)({notificationEmail:!0,dataSharingLevel:"minimal",tourPreferences:[],interestTopics:[]});(0,a.useEffect)((()=>{r&&(f(r),T(r))}),[r]);const T=async e=>{x(!0),g(null);try{await P.A.validateCode(e)?(y("Beta code accepted!"),setTimeout((()=>{h(1),y(null)}),1e3)):g("Invalid or expired beta code. Please check and try again.")}catch(t){console.error("Error validating beta code:",t),g("Error validating beta code. Please try again.")}finally{x(!1)}},R=e=>{f(e),T(e)},F=e=>{w(e),h(2)},B=e=>{E(e),h(3)},z=async()=>{x(!0),g(null);try{await C.A.updateUserProfile({...v,preferences:S,onboardingCompleted:!0}),y("Onboarding completed successfully!"),setTimeout((()=>{t&&t({betaCode:j,profile:v,preferences:S})}),1500)}catch(e){console.error("Error completing onboarding:",e),g("Error saving your preferences. Please try again.")}finally{x(!1)}};return(0,k.jsx)(n.A,{maxWidth:"md",children:(0,k.jsxs)(ge,{children:[(0,k.jsx)(o.A,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Beta Program Onboarding"}),(0,k.jsx)(o.A,{variant:"body1",color:"textSecondary",align:"center",paragraph:!0,children:"Complete the following steps to set up your beta experience"}),(0,k.jsx)(b.A,{sx:{my:2}}),p&&(0,k.jsx)(c.A,{severity:"error",sx:{my:2},children:p}),A&&(0,k.jsx)(c.A,{severity:"success",sx:{my:2},children:A}),(0,k.jsx)(D.A,{activeStep:d,sx:{mt:3,mb:4},children:s.map((e=>(0,k.jsx)(M.A,{children:(0,k.jsx)(I.A,{children:e})},e)))}),(0,k.jsx)(Ae,{children:m?(0,k.jsx)(l.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:(0,k.jsx)(i.A,{})}):(e=>{switch(e){case 0:return(0,k.jsx)($,{initialCode:j,onSubmit:R});case 1:return(0,k.jsx)(V,{initialData:v,onSubmit:F});case 2:return(0,k.jsx)(ne,{initialData:S,onSubmit:B});case 3:return(0,k.jsx)(pe,{profile:v,onFinish:z});default:return"Unknown step"}})(d)}),(0,k.jsxs)(ye,{children:[(0,k.jsx)(u.A,{disabled:0===d||m,onClick:()=>{h((e=>e-1))},variant:"outlined",children:"Back"}),d<s.length-1?(0,k.jsx)(u.A,{variant:"contained",color:"primary",onClick:()=>{h((e=>e+1))},disabled:m||0===d&&!j,children:"Next"}):(0,k.jsx)(u.A,{variant:"contained",color:"primary",onClick:z,disabled:m,children:"Finish"})]})]})})};var fe=r(45694),ve=r(79518);const be=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{h(!0),await ve.Ay.initialize();const e=ve.Ay.getAllPermissions(),r=ve.Ay.getAllRoles();t(e),s(r),i(await ve.Ay.isAdmin()),l(await ve.Ay.isModerator()),d(await ve.Ay.isBetaTester())}catch(e){console.error("Error fetching permissions:",e)}finally{h(!1)}})()}),[]);return{permissions:e,roles:r,isAdmin:n,isModerator:o,isBetaTester:c,isLoading:u,hasPermission:async e=>await ve.Ay.hasPermission(e),hasRole:async e=>await ve.Ay.hasRole(e),hasAnyPermission:async e=>await ve.Ay.hasAnyPermission(e),hasAllPermissions:async e=>await ve.Ay.hasAllPermissions(e)}};var we=r(8826),Se=r(68979),Ce=r(3291),ke=r(39948);const Ee=()=>{const{permissions:e,roles:t,isAdmin:r,isModerator:a,isBetaTester:s,isLoading:n}=be();if(n)return(0,k.jsx)(l.A,{display:"flex",justifyContent:"center",p:3,children:(0,k.jsx)(i.A,{})});const c={};return e.forEach((e=>{const t=e.split(":")[0];c[t]||(c[t]=[]),c[t].push(e)})),(0,k.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,k.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[(0,k.jsx)(ae.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Security Roles & Permissions"]}),(0,k.jsxs)(l.A,{mt:2,children:[(0,k.jsx)(o.A,{variant:"subtitle1",children:"Your Roles"}),(0,k.jsxs)(l.A,{display:"flex",gap:1,mt:1,mb:2,children:[r&&(0,k.jsx)(d.A,{icon:(0,k.jsx)(Ce.A,{}),label:"Admin",color:"error",variant:"outlined"}),a&&(0,k.jsx)(d.A,{icon:(0,k.jsx)(Ce.A,{}),label:"Moderator",color:"warning",variant:"outlined"}),s&&(0,k.jsx)(d.A,{icon:(0,k.jsx)(Ce.A,{}),label:"Beta Tester",color:"primary",variant:"outlined"}),!r&&!a&&!s&&(0,k.jsx)(d.A,{icon:(0,k.jsx)(ke.A,{}),label:"No Roles",color:"default",variant:"outlined"})]})]}),(0,k.jsx)(b.A,{sx:{my:2}}),(0,k.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:"Your Permissions"}),0===Object.keys(c).length?(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"You don't have any specific permissions assigned."}):(0,k.jsx)(ie.A,{dense:!0,sx:{mb:1},children:Object.entries(c).map((e=>{let[t,r]=e;return(0,k.jsxs)(l.A,{mb:2,children:[(0,k.jsx)(o.A,{variant:"subtitle2",color:"primary",sx:{textTransform:"capitalize"},children:t}),r.map((e=>(0,k.jsxs)(oe.Ay,{dense:!0,children:[(0,k.jsx)(le.A,{sx:{minWidth:30},children:(0,k.jsx)(Se.A,{fontSize:"small",color:"action"})}),(0,k.jsx)(ce.A,{primary:e.split(":")[1],primaryTypographyProps:{variant:"body2",sx:{textTransform:"capitalize"}}})]},e)))]},t)}))}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"These permissions determine what actions you can perform within the beta program."})]})},De="http://localhost:3000/api";new class{async getFeatureRequests(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return[{id:"feature_1",title:"Multi-language support",description:"Add support for French, Spanish, and German languages",status:"under_review",category:"Localization",votes:42,userId:"user_123",userName:"Alex Johnson",createdAt:"2023-07-15T10:00:00Z",updatedAt:"2023-07-18T14:30:00Z",comments:8,tags:["internationalization","language"],implementationDifficulty:"medium",businessValue:"high"},{id:"feature_2",title:"Dark mode theme",description:"Add a dark mode option to reduce eye strain in low-light conditions",status:"planned",category:"User Interface",votes:78,userId:"user_456",userName:"Sam Wilson",createdAt:"2023-07-10T09:15:00Z",updatedAt:"2023-07-19T11:45:00Z",comments:12,tags:["ui","accessibility","theme"],implementationDifficulty:"low",businessValue:"medium",plannedReleaseVersion:"2.4.0"},{id:"feature_3",title:"Offline mode",description:"Allow users to access core functionality when offline and sync when connection is restored",status:"in_progress",category:"Functionality",votes:56,userId:"user_789",userName:"Jamie Taylor",createdAt:"2023-07-05T14:20:00Z",updatedAt:"2023-07-20T09:30:00Z",comments:5,tags:["offline","sync","connectivity"],implementationDifficulty:"high",businessValue:"high",assignedDeveloper:"Dev Team Alpha",estimatedCompletion:"2023-08-15"},{id:"feature_4",title:"Export data to CSV",description:"Allow users to export their data in CSV format for analysis in spreadsheet tools",status:"implemented",category:"Data Management",votes:35,userId:"user_101",userName:"Morgan Lee",createdAt:"2023-06-28T11:10:00Z",updatedAt:"2023-07-10T16:20:00Z",comments:3,tags:["export","data","csv"],implementationDifficulty:"low",businessValue:"medium",implementedVersion:"2.3.0",releaseDate:"2023-07-10"},{id:"feature_5",title:"Image annotation tools",description:"Add tools for annotating images with notes and markers",status:"new",category:"Content Creation",votes:12,userId:"user_202",userName:"Riley Garcia",createdAt:"2023-07-19T08:45:00Z",updatedAt:"2023-07-19T08:45:00Z",comments:1,tags:["images","annotation","content"],implementationDifficulty:"medium",businessValue:"medium"}].filter((t=>{if(e.status&&t.status!==e.status)return!1;if(e.category&&t.category!==e.category)return!1;if(e.search){const r=e.search.toLowerCase();return t.title.toLowerCase().includes(r)||t.description.toLowerCase().includes(r)||t.tags.some((e=>e.toLowerCase().includes(r)))}return!0})).sort(((t,r)=>"votes"===e.sortBy?r.votes-t.votes:"recent"===e.sortBy?new Date(r.createdAt)-new Date(t.createdAt):"updated"===e.sortBy?new Date(r.updatedAt)-new Date(t.updatedAt):r.votes-t.votes))}catch(t){throw console.error("Error fetching feature requests:",t),new Error("Failed to fetch feature requests")}}async getFeatureRequestById(e){try{const t=[{id:"comment_1",requestId:"feature_1",userId:"user_456",userName:"Sam Wilson",content:"I would specifically like to see Japanese added as well.",createdAt:"2023-07-16T11:30:00Z",likes:3},{id:"comment_2",requestId:"feature_1",userId:"user_789",userName:"Jamie Taylor",content:"This would be great for our international users.",createdAt:"2023-07-17T09:45:00Z",likes:5},{id:"comment_3",requestId:"feature_1",userId:"user_202",userName:"Riley Garcia",content:"I can help with Spanish translations if needed.",createdAt:"2023-07-18T14:20:00Z",likes:2}],r=(await this.getFeatureRequests()).find((t=>t.id===e));if(!r)throw new Error("Feature request not found");return{...r,comments:t.filter((t=>t.requestId===e))}}catch(t){throw console.error(`Error fetching feature request ${e}:`,t),new Error("Failed to fetch feature request")}}async submitFeatureRequest(e){try{if(console.log("Submitting feature request:",e),!e.title)throw new Error("Title is required");if(!e.description)throw new Error("Description is required");const t={userId:"current_user_123",userName:"Current User"},r={id:`feature_${Date.now()}`,title:e.title,description:e.description,status:"new",category:e.category||"General",votes:1,userId:t.userId,userName:t.userName,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),comments:0,tags:e.tags||[],implementationDifficulty:"undetermined",businessValue:"undetermined"};return await new Promise((e=>setTimeout(e,1e3))),r}catch(t){throw console.error("Error submitting feature request:",t),new Error(`Failed to submit feature request: ${t.message}`)}}async voteOnFeatureRequest(e,t){try{return console.log(`${t?"Upvoting":"Removing vote for"} feature request ${e}`),await new Promise((e=>setTimeout(e,500))),{requestId:e,votes:t?43:41}}catch(r){throw console.error("Error voting on feature request:",r),new Error("Failed to vote on feature request")}}async addComment(e,t){try{if(console.log(`Adding comment to feature request ${e}:`,t),!t)throw new Error("Comment content is required");const r={userId:"current_user_123",userName:"Current User"},a={id:`comment_${Date.now()}`,requestId:e,userId:r.userId,userName:r.userName,content:t,createdAt:(new Date).toISOString(),likes:0};return await new Promise((e=>setTimeout(e,800))),a}catch(r){throw console.error("Error adding comment:",r),new Error(`Failed to add comment: ${r.message}`)}}async getCategories(){try{return[{id:"general",name:"General"},{id:"ui",name:"User Interface"},{id:"functionality",name:"Functionality"},{id:"performance",name:"Performance"},{id:"accessibility",name:"Accessibility"},{id:"localization",name:"Localization"},{id:"integration",name:"Integration"},{id:"data_management",name:"Data Management"},{id:"content_creation",name:"Content Creation"},{id:"security",name:"Security"}]}catch(e){throw console.error("Error fetching categories:",e),new Error("Failed to fetch categories")}}async updateFeatureRequestStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{console.log(`Updating feature request ${e} status to ${t}`,r);if(!["new","under_review","planned","in_progress","implemented","declined"].includes(t))throw new Error("Invalid status");return await new Promise((e=>setTimeout(e,1e3))),{id:e,status:t,updatedAt:(new Date).toISOString(),...r}}catch(a){throw console.error("Error updating feature request status:",a),new Error("Failed to update feature request status")}}async getAnalytics(){try{return{totalRequests:28,requestsByStatus:{new:8,under_review:5,planned:4,in_progress:3,implemented:6,declined:2},requestsByCategory:{"User Interface":7,Functionality:5,Performance:3,"Data Management":4,Localization:3,"Content Creation":2,General:4},topVotedRequests:[{id:"feature_2",title:"Dark mode theme",votes:78},{id:"feature_6",title:"Mobile app version",votes:67},{id:"feature_3",title:"Offline mode",votes:56},{id:"feature_1",title:"Multi-language support",votes:42},{id:"feature_4",title:"Export data to CSV",votes:35}],implementationTimeline:[{month:"July",count:2},{month:"August",count:3},{month:"September",planned:4}]}}catch(e){throw console.error("Error fetching analytics:",e),new Error("Failed to fetch analytics")}}};var Me=r(29372),Ie=r(62856),Te=r(19632),Pe=r(29858),Re=r(67626),Fe=r(7636),Be=r(63696),ze=r(56718),_e=r(88889),Ue=r(43838),qe=r(35771),Ne=r(19822),We=r(84609),$e=r(60204),Oe=r(90039);const Le=e=>{let{featureService:t}=e;const r=["UI/UX","Mobile App","Performance","Navigation","Tours","Maps","Integrations","Accessibility","Offline Mode","Accounts","Social Features","Other"],s={REQUESTED:"requested",UNDER_REVIEW:"under_review",PLANNED:"planned",IN_PROGRESS:"in_progress",IMPLEMENTED:"implemented",REJECTED:"rejected"},[n,g]=(0,a.useState)([]),[A,y]=(0,a.useState)(!0),[f,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(0),[E,D]=(0,a.useState)(!1),[M,I]=(0,a.useState)("votes"),[T,P]=(0,a.useState)({category:"all",status:"all"}),[B,z]=(0,a.useState)({title:"",description:"",category:"",tags:[]}),[_,U]=(0,a.useState)({});(0,a.useEffect)((()=>{q()}),[]);const q=async()=>{try{y(!0),w(null);g([{id:"feat-1",title:"Add dark mode support",description:"Implement a dark mode theme option to reduce eye strain during nighttime use.",category:"UI/UX",status:s.PLANNED,votes:36,comments:12,userVoted:!0,tags:["Dark Mode","Usability"],createdBy:{id:"user-1",name:"Alex Johnson",avatar:null},createdAt:"2023-03-15T08:22:17Z",updatedAt:"2023-03-22T16:33:41Z"},{id:"feat-2",title:"Offline maps for saved routes",description:"Allow users to download maps for their saved routes to use when no internet connection is available.",category:"Offline Mode",status:s.IN_PROGRESS,votes:58,comments:23,userVoted:!1,tags:["Offline","Maps"],createdBy:{id:"user-2",name:"Maria Garcia",avatar:"https://i.pravatar.cc/150?u=user-2"},createdAt:"2023-03-10T11:42:35Z",updatedAt:"2023-03-25T09:17:22Z"},{id:"feat-3",title:"Export routes to GPX/KML formats",description:"Add the ability to export created routes in standard GPX and KML formats for use in other applications.",category:"Integrations",status:s.REQUESTED,votes:24,comments:8,userVoted:!0,tags:["Export","Integration"],createdBy:{id:"user-3",name:"David Wong",avatar:"https://i.pravatar.cc/150?u=user-3"},createdAt:"2023-03-20T14:52:09Z",updatedAt:"2023-03-20T14:52:09Z"},{id:"feat-4",title:"Improve route optimization algorithm",description:"Enhance the current route optimization to consider factors like traffic patterns, opening hours, and weather.",category:"Performance",status:s.UNDER_REVIEW,votes:42,comments:16,userVoted:!1,tags:["Algorithm","Optimization"],createdBy:{id:"user-4",name:"Samantha Lee",avatar:"https://i.pravatar.cc/150?u=user-4"},createdAt:"2023-03-18T09:12:47Z",updatedAt:"2023-03-24T11:32:18Z"},{id:"feat-5",title:"Social sharing of created routes",description:"Allow users to share their created routes on social media platforms directly from the app.",category:"Social Features",status:s.IMPLEMENTED,votes:31,comments:7,userVoted:!0,tags:["Social","Sharing"],createdBy:{id:"user-5",name:"James Wilson",avatar:null},createdAt:"2023-03-05T16:41:23Z",updatedAt:"2023-03-27T13:45:56Z"}])}catch(e){console.error("Error loading features:",e),w("Failed to load feature requests. Please try again.")}finally{y(!1)}},N=()=>{z({title:"",description:"",category:"",tags:[]}),U({}),D(!0)},W=()=>{D(!1)},$=e=>{const{name:t,value:r}=e.target;z((e=>({...e,[t]:r}))),_[t]&&U((e=>({...e,[t]:null})))},L=(e,t)=>{P((r=>({...r,[e]:t})))},X=e=>{switch(e){case s.IMPLEMENTED:return(0,k.jsx)(ze.A,{color:"success"});case s.PLANNED:case s.IN_PROGRESS:return(0,k.jsx)(_e.A,{color:"primary"});case s.REJECTED:return(0,k.jsx)(Ue.A,{color:"error"});default:return null}},V=e=>{switch(e){case s.REQUESTED:return"Requested";case s.UNDER_REVIEW:return"Under Review";case s.PLANNED:return"Planned";case s.IN_PROGRESS:return"In Progress";case s.IMPLEMENTED:return"Implemented";case s.REJECTED:return"Rejected";default:return e}},G=e=>{switch(e){case s.REQUESTED:return"default";case s.UNDER_REVIEW:return"warning";case s.PLANNED:return"info";case s.IN_PROGRESS:return"primary";case s.IMPLEMENTED:return"success";case s.REJECTED:return"error";default:return"default"}},Z=n.filter((e=>("all"===T.category||e.category===T.category)&&(("all"===T.status||e.status===T.status)&&(!(1===S&&!e.userVoted)&&(2!==S||e.status===s.IMPLEMENTED))))),K=[...Z].sort(((e,t)=>{switch(M){case"votes":default:return t.votes-e.votes;case"newest":return new Date(t.createdAt)-new Date(e.createdAt);case"oldest":return new Date(e.createdAt)-new Date(t.createdAt)}}));return(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(Me.A,{open:E,onClose:W,maxWidth:"md",fullWidth:!0,children:[(0,k.jsx)(Ie.A,{children:"Submit Feature Request"}),(0,k.jsx)(Te.A,{children:(0,k.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mt:0},children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Title",name:"title",value:B.title,onChange:$,error:!!_.title,helperText:_.title,placeholder:"Enter a concise title for your feature request",required:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsxs)(Y.A,{fullWidth:!0,error:!!_.category,children:[(0,k.jsx)(Pe.A,{id:"category-label",children:"Category"}),(0,k.jsx)(Re.A,{labelId:"category-label",name:"category",value:B.category,onChange:$,label:"Category",required:!0,children:r.map((e=>(0,k.jsx)(Fe.A,{value:e,children:e},e)))}),_.category&&(0,k.jsx)(o.A,{variant:"caption",color:"error",children:_.category})]})}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,sm:6,children:[(0,k.jsx)(j.A,{fullWidth:!0,label:"Tags",placeholder:"Type tag and press comma to add",onKeyUp:e=>{const t=e.target.value;if(t.endsWith(",")){const r=t.slice(0,-1).trim();r&&!B.tags.includes(r)&&z((e=>({...e,tags:[...e.tags,r]}))),e.target.value=""}},helperText:"Enter tags to help categorize your request"}),(0,k.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:B.tags.map((e=>(0,k.jsx)(d.A,{label:e,onDelete:()=>(e=>{z((t=>({...t,tags:t.tags.filter((t=>t!==e))})))})(e),size:"small"},e)))})]}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Description",name:"description",value:B.description,onChange:$,error:!!_.description,helperText:_.description||"Provide a detailed description of the feature you would like to see",multiline:!0,rows:4,required:!0})})]})}),(0,k.jsxs)(Be.A,{children:[(0,k.jsx)(u.A,{onClick:W,children:"Cancel"}),(0,k.jsx)(u.A,{onClick:async()=>{if((()=>{const e={};return B.title.trim()||(e.title="Title is required"),B.description.trim()||(e.description="Description is required"),B.category||(e.category="Category is required"),U(e),0===Object.keys(e).length})())try{y(!0);const e={id:`feat-${Date.now()}`,...B,status:s.REQUESTED,votes:1,comments:0,userVoted:!0,createdBy:{id:"current-user",name:"Current User",avatar:null},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};g((t=>[e,...t])),D(!1)}catch(e){console.error("Error creating feature request:",e),w("Failed to create feature request. Please try again.")}finally{y(!1)}},variant:"contained",color:"primary",disabled:A,children:A?(0,k.jsx)(i.A,{size:24}):"Submit Request"})]})]}),(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",children:"Feature Requests"}),(0,k.jsx)(u.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(qe.A,{}),onClick:N,children:"Submit Request"})]}),(0,k.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,k.jsxs)(m.A,{value:S,onChange:(e,t)=>{C(t)},"aria-label":"feature request tabs",children:[(0,k.jsx)(x.A,{label:"All Requests"}),(0,k.jsx)(x.A,{label:"My Votes"}),(0,k.jsx)(x.A,{label:"Implemented"})]})}),(0,k.jsx)(h.A,{sx:{p:2,mb:3},children:(0,k.jsxs)(p.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(Ne.A,{color:"action"})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,k.jsxs)(Y.A,{fullWidth:!0,size:"small",children:[(0,k.jsx)(Pe.A,{id:"category-filter-label",children:"Category"}),(0,k.jsxs)(Re.A,{labelId:"category-filter-label",value:T.category,onChange:e=>L("category",e.target.value),label:"Category",children:[(0,k.jsx)(Fe.A,{value:"all",children:"All Categories"}),r.map((e=>(0,k.jsx)(Fe.A,{value:e,children:e},e)))]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,k.jsxs)(Y.A,{fullWidth:!0,size:"small",children:[(0,k.jsx)(Pe.A,{id:"status-filter-label",children:"Status"}),(0,k.jsxs)(Re.A,{labelId:"status-filter-label",value:T.status,onChange:e=>L("status",e.target.value),label:"Status",children:[(0,k.jsx)(Fe.A,{value:"all",children:"All Statuses"}),Object.values(s).map((e=>(0,k.jsx)(Fe.A,{value:e,children:V(e)},e)))]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,k.jsxs)(Y.A,{fullWidth:!0,size:"small",children:[(0,k.jsx)(Pe.A,{id:"sort-label",children:"Sort By"}),(0,k.jsxs)(Re.A,{labelId:"sort-label",value:M,onChange:e=>{I(e.target.value)},label:"Sort By",children:[(0,k.jsx)(Fe.A,{value:"votes",children:"Most Votes"}),(0,k.jsx)(Fe.A,{value:"newest",children:"Newest"}),(0,k.jsx)(Fe.A,{value:"oldest",children:"Oldest"})]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:3,children:(0,k.jsxs)(o.A,{variant:"body2",color:"textSecondary",children:[Z.length," ",1===Z.length?"request":"requests"," found"]})})]})}),f&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:3},children:f}),A?(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,k.jsx)(i.A,{})}):0===Z.length?(0,k.jsxs)(h.A,{sx:{p:4,textAlign:"center"},children:[(0,k.jsx)(o.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No feature requests found"}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:0===S?"No feature requests match your current filters.":1===S?"You haven't voted for any feature requests yet.":"No implemented features match your current filters."}),(0,k.jsx)(u.A,{variant:"outlined",color:"primary",startIcon:(0,k.jsx)(qe.A,{}),onClick:N,sx:{mt:2},children:"Submit a New Request"})]}):(0,k.jsx)(p.Ay,{container:!0,spacing:3,children:K.map((e=>{return(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsxs)(R.A,{variant:"outlined",sx:{position:"relative",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:[X(e.status)&&(0,k.jsx)(l.A,{sx:{position:"absolute",top:12,right:12,zIndex:1},children:(0,k.jsx)(ee.A,{title:V(e.status),children:X(e.status)})}),(0,k.jsxs)(p.Ay,{container:!0,children:[(0,k.jsx)(p.Ay,{item:!0,xs:1,sm:1,children:(0,k.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2,height:"100%",borderRight:1,borderColor:"divider"},children:[(0,k.jsx)(v.A,{onClick:()=>(async e=>{try{g((t=>t.map((t=>t.id===e?{...t,votes:t.userVoted?t.votes-1:t.votes+1,userVoted:!t.userVoted}:t))))}catch(t){console.error("Error voting for feature:",t)}})(e.id),color:e.userVoted?"primary":"default",size:"small",children:(0,k.jsx)(We.A,{})}),(0,k.jsx)(o.A,{variant:"h6",color:e.userVoted?"primary":"textPrimary",sx:{fontWeight:e.userVoted?"bold":"normal"},children:e.votes}),(0,k.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"votes"})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:11,sm:11,children:(0,k.jsxs)(F.A,{children:[(0,k.jsxs)(l.A,{sx:{mb:2},children:[(0,k.jsx)(o.A,{variant:"h6",component:"h3",gutterBottom:!0,children:e.title}),(0,k.jsxs)(l.A,{sx:{display:"flex",mb:1},children:[(0,k.jsx)(d.A,{label:e.category,size:"small",color:"primary",variant:"outlined",sx:{mr:1}}),(0,k.jsx)(d.A,{label:V(e.status),size:"small",color:G(e.status),variant:"outlined"})]}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:e.description}),e.tags.length>0&&(0,k.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:e.tags.map((e=>(0,k.jsx)(d.A,{label:e,size:"small",variant:"outlined",icon:(0,k.jsx)($e.A,{})},e)))})]}),(0,k.jsx)(b.A,{sx:{mb:2}}),(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(O.A,{src:e.createdBy.avatar,alt:e.createdBy.name,sx:{width:24,height:24,mr:1}}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",children:e.createdBy.name}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",sx:{mx:1},children:"\u2022"}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",children:(t=e.createdAt,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))})]}),(0,k.jsx)(l.A,{sx:{display:"flex",alignItems:"center"},children:(0,k.jsx)(ee.A,{title:"Comments",children:(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mr:1},children:[(0,k.jsx)(Oe.A,{fontSize:"small",color:"action",sx:{mr:.5}}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",children:e.comments})]})})})]})]})})]})]})},e.id);var t}))})]})};var Xe=r(97234),Ve=r(10629),Ge=r(11133),Ze=r(16700),Ke=r(70300),Ye=r(80574),He=r(25167),Je=r(75544),Qe=r(13870);const et=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,g]=(0,a.useState)(null),[A,y]=(0,a.useState)(""),[b,w]=(0,a.useState)(0),[S,C]=(0,a.useState)("newest"),[E,D]=(0,a.useState)(null),[M,I]=(0,a.useState)(null),[T,P]=(0,a.useState)(!1),[R,F]=(0,a.useState)({title:"",content:"",tags:[]}),[B,z]=(0,a.useState)({});(0,a.useEffect)((()=>{_()}),[]);const _=async()=>{try{s(!0),g(null),setTimeout((()=>{t([{id:"disc-1",title:"How to use the map feature effectively?",content:"I've been trying to plan a route with multiple stops, but I'm having trouble optimizing the order. Does anyone have tips on how to use the map feature more effectively?",author:{id:"user-1",name:"Alex Johnson",avatar:null},createdAt:"2023-03-18T09:22:17Z",updatedAt:"2023-03-18T09:22:17Z",upvotes:12,commentCount:5,tags:["Maps","Routes","Tips"],pinned:!1,bookmarked:!1,category:"Help & Support"},{id:"disc-2",title:"Offline mode suggestion",content:"Has anyone found a good workaround for using the app in areas with poor connectivity? I'm going hiking next month and I'd like to be able to access my saved routes.",author:{id:"user-2",name:"Maria Garcia",avatar:"https://i.pravatar.cc/150?u=user-2"},createdAt:"2023-03-15T14:33:41Z",updatedAt:"2023-03-16T10:15:22Z",upvotes:24,commentCount:8,tags:["Offline","Feature Request"],pinned:!1,bookmarked:!0,category:"Feature Discussions"},{id:"disc-3",title:"Introducing myself to the beta community",content:"Hello everyone! I'm new to the beta program and wanted to introduce myself. I'm a travel enthusiast from Canada and I'm excited to help test and improve TourGuideAI!",author:{id:"user-3",name:"David Wong",avatar:"https://i.pravatar.cc/150?u=user-3"},createdAt:"2023-03-20T11:42:09Z",updatedAt:"2023-03-20T11:42:09Z",upvotes:18,commentCount:12,tags:["Introduction","Community"],pinned:!0,bookmarked:!1,category:"General"},{id:"disc-4",title:"Integration with weather services",content:"I think it would be great if we could see weather forecasts for our planned routes directly in the app. What do others think about this idea?",author:{id:"user-4",name:"Samantha Lee",avatar:"https://i.pravatar.cc/150?u=user-4"},createdAt:"2023-03-17T16:23:47Z",updatedAt:"2023-03-19T08:45:11Z",upvotes:36,commentCount:15,tags:["Weather","Feature Request","Integration"],pinned:!1,bookmarked:!1,category:"Feature Discussions"},{id:"disc-5",title:"Beta program feedback process",content:"The beta program has been running for a few weeks now. I'm curious how our feedback is being used to improve the app. Can any moderators provide insights?",author:{id:"user-5",name:"James Wilson",avatar:null},createdAt:"2023-03-12T10:11:23Z",updatedAt:"2023-03-18T13:27:56Z",upvotes:29,commentCount:6,tags:["Feedback","Process","Beta Program"],pinned:!1,bookmarked:!0,category:"General"}]),s(!1)}),1e3)}catch(e){console.error("Error loading discussions:",e),g("Failed to load discussions. Please try again."),s(!1)}},U=()=>{D(null),I(null)},q=e=>{t((t=>t.map((t=>t.id===e?{...t,bookmarked:!t.bookmarked}:t)))),U()},N=e=>{C(e)},W=()=>{F({title:"",content:"",tags:[]}),z({}),P(!0)},$=()=>{P(!1)},L=e=>{const{name:t,value:r}=e.target;F((e=>({...e,[t]:r}))),B[t]&&z((e=>({...e,[t]:null})))},X=e.filter((e=>{if(A){const t=A.toLowerCase();if(!e.title.toLowerCase().includes(t)&&!e.content.toLowerCase().includes(t)&&!e.tags.some((e=>e.toLowerCase().includes(t))))return!1}return!(1===b&&!e.pinned)&&(!(2===b&&!e.bookmarked)&&((3!==b||"Feature Discussions"===e.category)&&(4!==b||"Help & Support"===e.category)))})),V=[...X].sort(((e,t)=>{switch(S){case"newest":default:return new Date(t.createdAt)-new Date(e.createdAt);case"oldest":return new Date(e.createdAt)-new Date(t.createdAt);case"most_upvoted":return t.upvotes-e.upvotes;case"most_commented":return t.commentCount-e.commentCount}}));return(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(Me.A,{open:T,onClose:$,maxWidth:"md",fullWidth:!0,children:[(0,k.jsx)(Ie.A,{children:"Start a New Discussion"}),(0,k.jsx)(Te.A,{children:(0,k.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mt:0},children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Title",name:"title",value:R.title,onChange:L,error:!!B.title,helperText:B.title,placeholder:"Enter a clear, specific title for your discussion",required:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(j.A,{fullWidth:!0,label:"Content",name:"content",value:R.content,onChange:L,error:!!B.content,helperText:B.content,multiline:!0,rows:6,placeholder:"Share your thoughts, questions, or ideas in detail",required:!0})}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(j.A,{fullWidth:!0,label:"Tags",placeholder:"Type tag and press comma to add",onKeyUp:e=>{const t=e.target.value;if(t.endsWith(",")){const r=t.slice(0,-1).trim();r&&!R.tags.includes(r)&&F((e=>({...e,tags:[...e.tags,r]}))),e.target.value=""}},helperText:"Add relevant tags to help others find your discussion"}),(0,k.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:R.tags.map((e=>(0,k.jsx)(d.A,{label:e,onDelete:()=>(e=>{F((t=>({...t,tags:t.tags.filter((t=>t!==e))})))})(e),size:"small"},e)))})]})]})}),(0,k.jsxs)(Be.A,{children:[(0,k.jsx)(u.A,{onClick:$,children:"Cancel"}),(0,k.jsx)(u.A,{onClick:()=>{if(!(()=>{const e={};return R.title.trim()||(e.title="Title is required"),R.content.trim()?R.content.length<20&&(e.content="Content must be at least 20 characters"):e.content="Content is required",z(e),0===Object.keys(e).length})())return;const e={id:`disc-${Date.now()}`,title:R.title,content:R.content,author:{id:"current-user",name:"Current User",avatar:null},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),upvotes:0,commentCount:0,tags:R.tags,pinned:!1,bookmarked:!1,category:"General"};t((t=>[e,...t])),$()},variant:"contained",color:"primary",children:"Post Discussion"})]})]}),(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",children:"Beta Community Forum"}),(0,k.jsx)(u.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(Ge.A,{}),onClick:W,children:"Start Discussion"})]}),(0,k.jsx)(h.A,{sx:{p:2,mb:3},children:(0,k.jsxs)(p.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsx)(j.A,{fullWidth:!0,placeholder:"Search discussions...",value:A,onChange:e=>{y(e.target.value)},size:"small",InputProps:{startAdornment:(0,k.jsx)(f.A,{position:"start",children:(0,k.jsx)(Ze.A,{})})}})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:{xs:"flex-start",md:"flex-end"}},children:[(0,k.jsx)(o.A,{variant:"body2",sx:{mr:1},children:"Sort by:"}),(0,k.jsxs)(u.A,{size:"small",endIcon:(0,k.jsx)(Ke.A,{}),onClick:e=>D(e.currentTarget),children:["newest"===S&&"Newest","oldest"===S&&"Oldest","most_upvoted"===S&&"Most Upvoted","most_commented"===S&&"Most Commented"]}),(0,k.jsxs)(Xe.A,{anchorEl:E,open:Boolean(E)&&!M,onClose:()=>D(null),children:[(0,k.jsx)(Fe.A,{onClick:()=>N("newest"),children:"Newest"}),(0,k.jsx)(Fe.A,{onClick:()=>N("oldest"),children:"Oldest"}),(0,k.jsx)(Fe.A,{onClick:()=>N("most_upvoted"),children:"Most Upvoted"}),(0,k.jsx)(Fe.A,{onClick:()=>N("most_commented"),children:"Most Commented"})]})]})})]})}),(0,k.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,k.jsxs)(m.A,{value:b,onChange:(e,t)=>{w(t)},"aria-label":"forum tabs",children:[(0,k.jsx)(x.A,{label:"All Discussions"}),(0,k.jsx)(x.A,{label:"Pinned"}),(0,k.jsx)(x.A,{label:"Bookmarked"}),(0,k.jsx)(x.A,{label:"Feature Discussions"}),(0,k.jsx)(x.A,{label:"Help & Support"})]})}),n&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:3},children:n}),r?(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,k.jsx)(i.A,{})}):0===X.length?(0,k.jsxs)(h.A,{sx:{p:4,textAlign:"center"},children:[(0,k.jsx)(o.A,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No discussions found"}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",paragraph:!0,children:A?"No discussions match your search criteria.":0===b?"There are no discussions yet.":1===b?"There are no pinned discussions.":2===b?"You have no bookmarked discussions.":3===b?"There are no feature discussions.":"There are no help & support discussions."}),(0,k.jsx)(u.A,{variant:"outlined",color:"primary",startIcon:(0,k.jsx)(Ge.A,{}),onClick:W,sx:{mt:2},children:"Start a New Discussion"})]}):(0,k.jsx)(p.Ay,{container:!0,spacing:3,children:V.map((e=>{return(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsxs)(h.A,{variant:"outlined",sx:{p:2,position:"relative",bgcolor:e.pinned?"rgba(144, 202, 249, 0.08)":"transparent",border:e.pinned?"1px solid rgba(144, 202, 249, 0.5)":"1px solid rgba(0, 0, 0, 0.12)",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{boxShadow:2,transform:"translateY(-2px)"}},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"medium",sx:{mr:1},children:e.title}),e.pinned&&(0,k.jsx)(d.A,{label:"Pinned",size:"small",color:"primary",variant:"outlined",sx:{mr:1}})]}),(0,k.jsx)(v.A,{size:"small",onClick:t=>((e,t)=>{D(e.currentTarget),I(t)})(t,e),children:(0,k.jsx)(Ye.A,{})})]}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,k.jsx)(Ve.A,{sx:{minWidth:36},children:(0,k.jsx)(O.A,{src:e.author.avatar,alt:e.author.name,sx:{width:24,height:24}})}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",children:e.author.name}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",sx:{mx:1},children:"\u2022"}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",children:(r=e.createdAt,new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))}),(0,k.jsx)(o.A,{variant:"body2",color:"textSecondary",sx:{mx:1},children:"\u2022"}),(0,k.jsx)(d.A,{label:e.category,size:"small",color:"default",variant:"outlined"})]}),(0,k.jsx)(o.A,{variant:"body1",paragraph:!0,children:e.content.length>300?`${e.content.slice(0,300)}...`:e.content}),e.tags.length>0&&(0,k.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:e.tags.map((e=>(0,k.jsx)(d.A,{label:e,size:"small",variant:"outlined"},e)))}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(u.A,{size:"small",startIcon:(0,k.jsx)(He.A,{}),onClick:()=>{return r=e.id,void t((e=>e.map((e=>e.id===r?{...e,upvotes:e.upvotes+1}:e))));var r},children:e.upvotes}),(0,k.jsx)(u.A,{size:"small",startIcon:(0,k.jsx)(Oe.A,{}),sx:{ml:1},children:e.commentCount})]}),(0,k.jsx)(l.A,{children:e.bookmarked?(0,k.jsx)(v.A,{size:"small",color:"primary",onClick:()=>q(e.id),children:(0,k.jsx)(Je.A,{})}):(0,k.jsx)(v.A,{size:"small",onClick:()=>q(e.id),children:(0,k.jsx)(Qe.A,{})})})]})]})},e.id);var r}))}),(0,k.jsxs)(Xe.A,{anchorEl:E,open:Boolean(E)&&Boolean(M),onClose:U,children:[(0,k.jsx)(Fe.A,{onClick:()=>q(null===M||void 0===M?void 0:M.id),children:null!==M&&void 0!==M&&M.bookmarked?"Remove Bookmark":"Bookmark"}),(0,k.jsx)(Fe.A,{children:"View Discussion"}),(0,k.jsx)(Fe.A,{children:"Share"}),(0,k.jsx)(Fe.A,{children:"Report"})]})]})};var tt=r(95848),rt=r(11035),at=r(15323),st=r(40975),nt=r(95517),it=r(53678),ot=r(29908),lt=r(29861),ct=r(87581),dt=r(84258),ut=r(37942),ht=r(88782),mt=r(32551),xt=r(26645),pt=r(81189),gt=r(10010),At=r(80512),yt=r(85596),jt=r(44612),ft=r(918),vt=r(73817),bt=r(8426),wt=r(12827),St=r(63657),Ct=r(10776),kt=r(18926),Et=r(78224),Dt=r(43149),Mt=r(66899);const It={userActivity:[{date:"2025-03-20",count:45},{date:"2025-03-21",count:62},{date:"2025-03-22",count:78},{date:"2025-03-23",count:84},{date:"2025-03-24",count:103},{date:"2025-03-25",count:125},{date:"2025-03-26",count:152},{date:"2025-03-27",count:187}],featureUsage:[{feature:"Route Planning",usage:427,growth:15},{feature:"Map Navigation",usage:316,growth:8},{feature:"Location Search",usage:254,growth:12},{feature:"Itinerary Sharing",usage:193,growth:23},{feature:"Travel Recommendations",usage:176,growth:18}],feedbackSentiment:[{category:"UI/UX",positive:67,neutral:22,negative:11},{category:"Performance",positive:58,neutral:31,negative:11},{category:"Features",positive:72,neutral:18,negative:10},{category:"Content",positive:81,neutral:14,negative:5}],retentionData:[{week:"Week 1",rate:89},{week:"Week 2",rate:76},{week:"Week 3",rate:68},{week:"Week 4",rate:62}],geographicData:[{region:"North America",users:245},{region:"Europe",users:187},{region:"Asia",users:134},{region:"South America",users:76},{region:"Africa",users:53},{region:"Oceania",users:38}],deviceData:[{type:"Desktop",percentage:42},{type:"Mobile",percentage:48},{type:"Tablet",percentage:10}],browserData:[{name:"Chrome",percentage:64},{name:"Firefox",percentage:12},{name:"Safari",percentage:16},{name:"Edge",percentage:7},{name:"Other",percentage:1}],issueData:[{type:"Bug Reports",count:37,resolved:31},{type:"Feature Requests",count:56,resolved:22},{type:"UI/UX Issues",count:28,resolved:19},{type:"Performance Issues",count:15,resolved:12}]},Tt=30,Pt=25;const Rt=new class{initGA4(){return console.log("Google Analytics 4 initialized"),this.setupEventListeners(),!0}setupEventListeners(){"undefined"!==typeof window&&(window.addEventListener("load",(()=>{this.trackEvent("page_view",{page_title:document.title,page_location:window.location.href,page_path:window.location.pathname})})),document.addEventListener("click",(e=>{const t=e.target;("BUTTON"===t.tagName||"A"===t.tagName&&"button"===t.getAttribute("role"))&&this.trackEvent("button_click",{button_id:t.id||"unknown",button_text:t.innerText||"unknown",page_path:window.location.pathname})})))}trackEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log(`Analytics event tracked: ${e}`,t),"undefined"!==typeof window&&window.gtag&&window.gtag("event",e,t),!0}async getUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.userActivity.slice(-e)}catch(t){throw console.error("Error fetching user activity data:",t),t}}async getFeatureUsage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.featureUsage.slice(0,e)}catch(t){throw console.error("Error fetching feature usage data:",t),t}}async getFeedbackSentiment(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.feedbackSentiment}catch(e){throw console.error("Error fetching feedback sentiment data:",e),e}}async getRetentionData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.retentionData}catch(e){throw console.error("Error fetching retention data:",e),e}}async getGeographicData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.geographicData}catch(e){throw console.error("Error fetching geographic data:",e),e}}async getDeviceData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.deviceData}catch(e){throw console.error("Error fetching device data:",e),e}}async getBrowserData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.browserData}catch(e){throw console.error("Error fetching browser data:",e),e}}async getIssueData(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");return It.issueData}catch(e){throw console.error("Error fetching issue data:",e),e}}async detectAnomalies(){try{if(!await C.A.isAdmin())throw new Error("Admin access required");const e=[],t=It.userActivity;for(let a=1;a<t.length;a++){const r=t[a-1].count,s=(t[a].count-r)/r*100;Math.abs(s)>Tt&&e.push({type:"user_activity",date:t[a].date,message:`Unusual ${s>0?"increase":"decrease"} in user activity (${Math.abs(s.toFixed(2))}%)`,severity:s>0?"info":"warning"})}const r=It.feedbackSentiment;for(const a of r){const t=a.positive+a.neutral+a.negative,r=a.negative/t*100;r>Pt&&e.push({type:"feedback",category:a.category,message:`High negative feedback in ${a.category} category (${r.toFixed(2)}%)`,severity:"warning"})}return e}catch(e){throw console.error("Error detecting anomalies:",e),e}}async exportData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{if(!await C.A.isAdmin())throw new Error("Admin access required");const t={userActivity:It.userActivity,featureUsage:It.featureUsage,feedbackSentiment:It.feedbackSentiment,retentionData:It.retentionData,geographicData:It.geographicData,deviceData:It.deviceData,browserData:It.browserData,issueData:It.issueData,exportDate:(new Date).toISOString(),exportFormat:e};return"csv"===e?{data:"CSV data would be generated here",filename:`beta-analytics-export-${(new Date).toISOString()}.csv`,contentType:"text/csv"}:{data:t,filename:`beta-analytics-export-${(new Date).toISOString()}.json`,contentType:"application/json"}}catch(t){throw console.error("Error exporting data:",t),t}}async getSessionRecordings(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("Fetching session recordings with filters:",r),await new Promise((e=>setTimeout(e,1e3)));const a=Array.from({length:25}).map(((r,a)=>{const s=new Date(new Date(e).getTime()+Math.random()*(new Date(t).getTime()-new Date(e).getTime())),n=Math.floor(600*Math.random())+30,i=Math.random()>.3?"returning":"new",o=["desktop","mobile","tablet"][Math.floor(3*Math.random())],l=[],c=Math.floor(5*Math.random())+1,d=["dashboard","search","profile","settings","tour_creation","tour_details","checkout"];for(let e=0;e<c;e++){const e=d[Math.floor(Math.random()*d.length)];l.includes(e)||l.push(e)}return{id:`hj-${(1e7+a).toString(16)}`,date:s.toISOString(),duration:n,userId:Math.random()>.2?`user_${Math.floor(1e3*Math.random())}`:null,userType:i,device:o,browser:["Chrome","Firefox","Safari","Edge"][Math.floor(4*Math.random())],country:["United States","United Kingdom","Canada","Germany","France","Japan","Australia"][Math.floor(7*Math.random())],pages:l,url:`https://example.com/${l[0]}`}}));let s=[...a];if(r.userType&&"all"!==r.userType&&(s=s.filter((e=>e.userType===r.userType))),r.device&&"all"!==r.device&&(s=s.filter((e=>e.device===r.device))),r.duration&&"all"!==r.duration)switch(r.duration){case"short":s=s.filter((e=>e.duration<60));break;case"medium":s=s.filter((e=>e.duration>=60&&e.duration<=300));break;case"long":s=s.filter((e=>e.duration>300))}if(r.page&&"all"!==r.page&&(s=s.filter((e=>e.pages.includes(r.page)))),r.search){const e=r.search.toLowerCase();s=s.filter((t=>t.userId&&t.userId.toLowerCase().includes(e)||t.pages.some((t=>t.toLowerCase().includes(e)))||t.url.toLowerCase().includes(e)))}s.sort(((e,t)=>new Date(t.date)-new Date(e.date)));const n=r.page||1,i=r.limit||10,o=(n-1)*i;return{recordings:s.slice(o,o+i),total:s.length}}async getHeatmapData(e,t,r,a,s){console.log(`Fetching heatmap data for page ${e} and interaction type ${t}`),await new Promise((e=>setTimeout(e,1e3)));const n=1200,i=1600,o=Math.floor(200*Math.random())+100;return{screenshot:`/screenshots/${e}.png`,interactions:Array.from({length:o}).map((()=>{let e,t;if(Math.random()<.7){const r=240*Math.floor(5*Math.random())+120,a=200*Math.floor(8*Math.random())+100;e=Math.floor(r+240*(Math.random()-.5)),t=Math.floor(a+200*(Math.random()-.5))}else e=Math.floor(Math.random()*n),t=Math.floor(Math.random()*i);return{x:e,y:t,value:Math.floor(10*Math.random())+1}}))}}async getInteractionMetrics(e,t,r,a,s){return console.log(`Fetching interaction metrics for page ${e} and interaction type ${t}`),await new Promise((e=>setTimeout(e,500))),{totalInteractions:Math.floor(5e3*Math.random())+1e3,uniqueUsers:Math.floor(500*Math.random())+100,averageTimeSpent:Math.floor(60*Math.random())+10,mostInteractedElement:["Search Button","Login Form","Navigation Menu","Feature Card","Pricing Table"][Math.floor(5*Math.random())]}}async getUXMetrics(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"industry";return console.log(`Fetching UX metrics from ${e} to ${t} with benchmark ${r}`),await new Promise((e=>setTimeout(e,800))),{timeOnTask:{value:Math.floor(60*Math.random())+20,trend:["up","down","stable"][Math.floor(3*Math.random())],loading:!1,error:null},successRate:{value:Math.floor(30*Math.random())+70,trend:["up","stable","down"][Math.floor(3*Math.random())],loading:!1,error:null},errorRate:{value:Math.floor(10*Math.random())+1,trend:["down","stable","up"][Math.floor(3*Math.random())],loading:!1,error:null},satisfactionScore:{value:Math.floor(3*Math.random())+7,trend:["up","stable","down"][Math.floor(3*Math.random())],loading:!1,error:null},taskCompletionTime:{value:Math.floor(50*Math.random())+20,trend:["down","stable","up"][Math.floor(3*Math.random())],loading:!1,error:null}}}async getComponentUsageStats(e,t){console.log(`Fetching component usage stats from ${e} to ${t}`),await new Promise((e=>setTimeout(e,600)));return["Search Form","Navigation Menu","Tour Card","Checkout Form","User Profile","Settings Panel","Login Modal","Feedback Widget","Feature Request Form","Survey Component"].map(((e,t)=>({id:t+1,name:e,usageCount:Math.floor(1e3*Math.random())+100,avgTimeSpent:Math.floor(60*Math.random())+5,errorRate:Math.floor(10*Math.random()),satisfaction:Math.floor(3*Math.random())+7})))}async getUXMetricsTimeSeries(e,t){console.log(`Fetching UX metrics time series from ${e} to ${t}`),await new Promise((e=>setTimeout(e,700)));const r=new Date(e),a=new Date(t),s=Math.round((a-r)/864e5),n=Math.min(s,30);return{labels:Array.from({length:n}).map(((e,t)=>{const a=new Date(r);return a.setDate(a.getDate()+Math.round(t*(s/n))),a.toLocaleDateString("en-US",{month:"short",day:"numeric"})})),datasets:[{label:"Success Rate (%)",data:Array.from({length:n}).map((()=>Math.floor(30*Math.random())+70)),borderColor:"#4caf50",backgroundColor:"rgba(76, 175, 80, 0.1)",tension:.4,fill:!0},{label:"Error Rate (%)",data:Array.from({length:n}).map((()=>Math.floor(10*Math.random())+1)),borderColor:"#f44336",backgroundColor:"rgba(244, 67, 54, 0.1)",tension:.4,fill:!0},{label:"Satisfaction Score",data:Array.from({length:n}).map((()=>Math.floor(3*Math.random())+7)),borderColor:"#2196f3",backgroundColor:"rgba(33, 150, 243, 0.1)",tension:.4,fill:!0}]}}},Ft="Analytics_chartContainer__u776k",Bt="Analytics_chartHeader__xSg8D",zt="Analytics_controlsRow__c2eY3",_t="Analytics_viewSelector__EIY65",Ut="Analytics_loadingIndicator__+jkKD",qt="Analytics_errorMessage__ml3B7",Nt="Analytics_insightPanel__4gUd2",Wt="Analytics_insightGrid__yJ0yl",$t="Analytics_insightItem__Hyci+",Ot="Analytics_heatmapControls__juQXl",Lt="Analytics_controlGroup__I+QQo",Xt="Analytics_heatmapContainer__S3M3b",Vt="Analytics_heatmapCanvas__QmU28",Gt="Analytics_backButton__AqBZt";var Zt=r(60716),Kt=r(50282),Yt=r(69165),Ht=r(48716),Jt=r(3569),Qt=r(68049),er=r(26574),tr=r(9621),rr=r(37641),ar=r(59473),sr=r(7830),nr=r(17696),ir=r(94042);const or=class{static async getSessionRecordings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await we.A.get(`${De}/session-recordings`,{params:e})).data}catch(t){throw console.error("Error fetching session recordings:",t),t}}static async getSessionRecording(e){try{return(await we.A.get(`${De}/session-recordings/${e}`)).data}catch(t){throw console.error(`Error fetching session recording ${e}:`,t),t}}static async addBookmark(e,t){try{return(await we.A.post(`${De}/session-recordings/${e}/bookmarks`,t)).data}catch(r){throw console.error("Error adding bookmark:",r),r}}static async reportIssue(e,t){try{return(await we.A.post(`${De}/session-recordings/${e}/issues`,t)).data}catch(r){throw console.error("Error reporting issue:",r),r}}static async exportSessionData(e){try{const t=await we.A.get(`${De}/session-recordings/${e}/export`,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");return a.href=r,a.setAttribute("download",`session-${e}.json`),document.body.appendChild(a),a.click(),a.remove(),t.data}catch(t){throw console.error("Error exporting session data:",t),t}}static async startRecording(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t={timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,device:this.detectDevice(),browser:this.detectBrowser(),screenSize:{width:window.innerWidth,height:window.innerHeight},...e};return(await we.A.post(`${De}/session-recordings`,{metadata:t,events:[]})).data}catch(t){throw console.error("Error starting session recording:",t),t}}static async recordEvent(e,t){try{return(await we.A.post(`${De}/session-recordings/${e}/events`,t)).data}catch(r){throw console.error("Error recording event:",r),r}}static async stopRecording(e){try{return(await we.A.put(`${De}/session-recordings/${e}/stop`)).data}catch(t){throw console.error("Error stopping recording:",t),t}}static detectDevice(){const e=navigator.userAgent;return/Android/i.test(e)?"Android":/iPhone|iPad|iPod/i.test(e)?"iOS":/Windows Phone/i.test(e)?"Windows Phone":/Mac/i.test(e)?"Mac":/Windows/i.test(e)?"Windows":/Linux/i.test(e)?"Linux":"Unknown"}static detectBrowser(){const e=navigator.userAgent;let t="Unknown";return e.indexOf("Firefox")>-1?t="Firefox":e.indexOf("SamsungBrowser")>-1?t="Samsung":e.indexOf("Opera")>-1||e.indexOf("OPR")>-1?t="Opera":e.indexOf("Edge")>-1||e.indexOf("Edg")>-1?t="Edge":e.indexOf("Chrome")>-1?t="Chrome":e.indexOf("Safari")>-1?t="Safari":(e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1)&&(t="Internet Explorer"),t}},lr=e=>{let{sessionId:t,onEventMarked:r,onAnalysisComplete:s,onBack:n}=e;const m=(0,g.A)(),x=(0,a.useRef)(null),A=(0,a.useRef)(null),[y,j]=(0,a.useState)(!0),[f,b]=(0,a.useState)(null),[w,S]=(0,a.useState)(null),[C,E]=(0,a.useState)(!1),[D,M]=(0,a.useState)(0),[I,T]=(0,a.useState)(0),[P,R]=(0,a.useState)(1),[F,B]=(0,a.useState)(!1),[z,_]=(0,a.useState)(null),[U,q]=(0,a.useState)([]),[N,W]=(0,a.useState)("all"),[$,O]=(0,a.useState)([]),[L,X]=(0,a.useState)([]),[V,G]=(0,a.useState)(1),[Z,K]=(0,a.useState)([]),[H,J]=(0,a.useState)(t||""),[Q,te]=(0,a.useState)(0),[re,ae]=(0,a.useState)([]),se=(0,a.useRef)(null);(0,a.useRef)(null);(0,a.useEffect)((()=>{(async()=>{try{j(!0);const e=await or.getSessionById(t);S(e),T(e.duration),q(e.events||[]),O(e.bookmarks||[]),X(e.issues||[]),j(!1)}catch(e){b("Failed to load session recording: "+e.message),j(!1)}})()}),[t]),(0,a.useEffect)((()=>{if(w&&A.current){(async()=>{try{await or.initializePlayer(A.current,w)}catch(e){b("Failed to initialize player: "+e.message)}})()}}),[w,A]),(0,a.useEffect)((()=>{let e;return C&&(e=setInterval((()=>{M((e=>{const t=e+.1*P,r=U.find((e=>Math.abs(e.timestamp-t)<.2));return!r||z&&z.id===r.id||_(r),t>=I?(E(!1),I):t}))}),100)),()=>{e&&clearInterval(e)}}),[C,I,P,U,z]),(0,a.useEffect)((()=>{w&&or.seekToTime(D)}),[D,w]);const ne=e=>{const t=Math.max(0,Math.min(D+e,I));M(t)},ie=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},oe=()=>"all"===N?[...U,...$,...L].sort(((e,t)=>e.timestamp-t.timestamp)):"clicks"===N?U.filter((e=>"click"===e.type)):"scrolls"===N?U.filter((e=>"scroll"===e.type)):"inputs"===N?U.filter((e=>"input"===e.type)):"bookmarks"===N?$:"issues"===N?L:[];(0,a.useEffect)((()=>{if(H)return j(!0),E(!1),M(0),te(0),or.getSessionById(H).then((e=>{S(e),T(e.duration),q(e.events||[]),O(e.bookmarks||[]),X(e.issues||[]),j(!1)})).catch((e=>{b("Failed to load session recording"),j(!1)})),()=>{se.current&&clearInterval(se.current)};or.getAvailableSessions().then((e=>{K(e),e.length>0&&!t&&J(e[0].id),j(!1)})).catch((e=>{b("Failed to load available sessions"),j(!1)}))}),[H,t]),(0,a.useEffect)((()=>(C&&w?(se.current&&clearInterval(se.current),se.current=setInterval((()=>{M((e=>{const t=e+.1*P;if(w.frames&&w.frames.length>0){const e=w.frames.map(((e,t)=>({index:t,time:(new Date(e.timestamp).getTime()-new Date(w.startTime).getTime())/1e3}))),r=e.findIndex((e=>e.time>t));r>0?te(r-1):-1===r&&t>e[e.length-1].time&&te(e.length-1)}return t>=w.duration?(E(!1),clearInterval(se.current),w.duration):t}))}),100)):se.current&&clearInterval(se.current),()=>{se.current&&clearInterval(se.current)})),[C,w,P]);return y?(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,k.jsx)(i.A,{})}):f?(0,k.jsx)(c.A,{severity:"error",sx:{mt:2},children:f}):(0,k.jsxs)(h.A,{elevation:3,sx:{p:2,borderRadius:2},children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,children:"Session Recording"}),w&&(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(o.A,{variant:"subtitle1",gutterBottom:!0,children:["User: ",w.userId," \u2022 Duration: ",ie(I)," \u2022 Date: ",new Date(w.timestamp).toLocaleString()]}),(0,k.jsxs)(l.A,{ref:x,sx:{position:"relative",width:"100%",height:"500px",bgcolor:"black",borderRadius:1,overflow:"hidden"},children:[(0,k.jsx)("canvas",{ref:A,style:{width:"100%",height:"100%",objectFit:"contain"}}),z&&(0,k.jsx)(l.A,{sx:{position:"absolute",bottom:16,right:16,bgcolor:"rgba(0, 0, 0, 0.6)",color:"white",p:1,borderRadius:1,maxWidth:"30%"},children:(0,k.jsxs)(o.A,{variant:"body2",children:[z.type,": ",z.label||z.value]})})]}),(0,k.jsx)(l.A,{sx:{mt:2},children:(0,k.jsxs)(p.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(v.A,{onClick:()=>ne(-30),children:(0,k.jsx)(Kt.A,{})})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(v.A,{onClick:()=>ne(-5),children:(0,k.jsx)(Yt.A,{})})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(v.A,{onClick:()=>{C?or.pause():or.play(P),E(!C)},color:"primary",children:C?(0,k.jsx)(Ht.A,{}):(0,k.jsx)(Jt.A,{})})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(v.A,{onClick:()=>ne(5),children:(0,k.jsx)(Qt.A,{})})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(v.A,{onClick:()=>ne(30),children:(0,k.jsx)(er.A,{})})}),(0,k.jsx)(p.Ay,{item:!0,xs:!0,children:(0,k.jsx)(Zt.Ay,{value:D,min:0,max:I,onChange:(e,t)=>{M(t)},sx:{mx:2}})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsxs)(o.A,{variant:"body2",children:[ie(D)," / ",ie(I)]})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsxs)(Y.A,{variant:"standard",sx:{minWidth:80},children:[(0,k.jsx)(Pe.A,{id:"speed-select-label",children:"Speed"}),(0,k.jsxs)(Re.A,{labelId:"speed-select-label",value:P,onChange:e=>{const t=parseFloat(e.target.value);R(t),C&&or.setPlaybackSpeed(t)},startAdornment:(0,k.jsx)(tr.A,{fontSize:"small",sx:{mr:.5}}),children:[(0,k.jsx)(Fe.A,{value:.5,children:"0.5x"}),(0,k.jsx)(Fe.A,{value:1,children:"1x"}),(0,k.jsx)(Fe.A,{value:1.5,children:"1.5x"}),(0,k.jsx)(Fe.A,{value:2,children:"2x"})]})]})}),(0,k.jsx)(p.Ay,{item:!0,children:(0,k.jsx)(ee.A,{title:"Toggle fullscreen",children:(0,k.jsx)(v.A,{onClick:()=>{x.current&&(F?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():x.current.requestFullscreen?x.current.requestFullscreen():x.current.mozRequestFullScreen?x.current.mozRequestFullScreen():x.current.webkitRequestFullscreen?x.current.webkitRequestFullscreen():x.current.msRequestFullscreen&&x.current.msRequestFullscreen(),B(!F))},children:F?(0,k.jsx)(rr.A,{}):(0,k.jsx)(ar.A,{})})})})]})}),(0,k.jsx)(l.A,{sx:{mt:3},children:(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:8,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Session Analysis"}),(0,k.jsxs)(l.A,{sx:{mb:2},children:[(0,k.jsx)(u.A,{variant:"outlined",startIcon:(0,k.jsx)(Je.A,{}),onClick:()=>{const e={id:`bookmark-${Date.now()}`,timestamp:D,label:`Bookmark at ${ie(D)}`,type:"bookmark"},a=[...$,e];O(a),or.addBookmark(t,e),r&&r(e)},sx:{mr:1},children:"Add Bookmark"}),(0,k.jsx)(u.A,{variant:"outlined",color:"error",startIcon:(0,k.jsx)(sr.A,{}),onClick:()=>{const e={id:`issue-${Date.now()}`,timestamp:D,label:`Issue at ${ie(D)}`,type:"issue"},a=[...L,e];X(a),or.reportIssue(t,e),r&&r(e)},sx:{mr:1},children:"Report Issue"}),(0,k.jsx)(u.A,{variant:"outlined",startIcon:(0,k.jsx)(nr.A,{}),onClick:()=>{or.exportSessionData(t)},children:"Export Data"})]}),(0,k.jsxs)(h.A,{sx:{p:2,bgcolor:m.palette.background.default},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,k.jsx)(o.A,{variant:"subtitle1",children:"Session Metrics"}),w.metrics&&(0,k.jsx)(d.A,{label:`Score: ${w.metrics.overallScore}/100`,color:w.metrics.overallScore>80?"success":w.metrics.overallScore>60?"info":"warning"})]}),w.metrics&&(0,k.jsxs)(p.Ay,{container:!0,spacing:2,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:6,md:3,children:[(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Page Views"}),(0,k.jsx)(o.A,{variant:"h6",children:w.metrics.pageViews})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:6,md:3,children:[(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Time on Task"}),(0,k.jsx)(o.A,{variant:"h6",children:ie(w.metrics.timeOnTask)})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:6,md:3,children:[(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Error Count"}),(0,k.jsx)(o.A,{variant:"h6",color:w.metrics.errorCount>2?"error.main":"text.primary",children:w.metrics.errorCount})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:6,md:3,children:[(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Click Count"}),(0,k.jsx)(o.A,{variant:"h6",children:w.metrics.clickCount})]})]})]})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:4,children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,k.jsx)(o.A,{variant:"h6",children:"Event Timeline"}),(0,k.jsx)(Y.A,{variant:"standard",size:"small",children:(0,k.jsxs)(Re.A,{value:N,onChange:e=>{W(e.target.value)},sx:{minWidth:120},children:[(0,k.jsx)(Fe.A,{value:"all",children:"All Events"}),(0,k.jsx)(Fe.A,{value:"clicks",children:"Clicks"}),(0,k.jsx)(Fe.A,{value:"scrolls",children:"Scrolls"}),(0,k.jsx)(Fe.A,{value:"inputs",children:"Inputs"}),(0,k.jsx)(Fe.A,{value:"bookmarks",children:"Bookmarks"}),(0,k.jsx)(Fe.A,{value:"issues",children:"Issues"})]})})]}),(0,k.jsx)(h.A,{sx:{height:300,overflow:"auto",p:1,bgcolor:m.palette.background.default},children:0===oe().length?(0,k.jsx)(o.A,{variant:"body2",sx:{p:2,color:"text.secondary"},children:"No events found for the selected filter."}):oe().map((e=>(0,k.jsxs)(l.A,{sx:{p:1.5,mb:1,borderRadius:1,bgcolor:"issue"===e.type?"error.light":"bookmark"===e.type?"info.light":"background.paper",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"issue"===e.type?"error.main":"bookmark"===e.type?"info.main":"action.hover"}},onClick:()=>(e=>{M(e.timestamp),_(e)})(e),children:[(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:["click"===e.type&&(0,k.jsx)(ir.A,{fontSize:"small",sx:{mr:1}}),"scroll"===e.type&&(0,k.jsx)(ir.A,{fontSize:"small",sx:{mr:1}}),"input"===e.type&&(0,k.jsx)(ir.A,{fontSize:"small",sx:{mr:1}}),"bookmark"===e.type&&(0,k.jsx)(Je.A,{fontSize:"small",color:"info",sx:{mr:1}}),"issue"===e.type&&(0,k.jsx)(sr.A,{fontSize:"small",color:"error",sx:{mr:1}}),(0,k.jsx)(o.A,{variant:"body2",children:e.label||e.type})]}),(0,k.jsx)(o.A,{variant:"caption",color:"text.secondary",children:ie(e.timestamp)})]},e.id)))})]})]})})]})]})},cr=e=>{var t,r;let{onBack:s}=e;const[n,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)("clicks"),[m,x]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),[A,y]=(0,a.useState)(.7),[j,f]=(0,a.useState)(30),v=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await Rt.getHeatmapPagesList();l(e),e.length>0&&d(e[0].id),i(!1)}catch(e){g("Failed to load pages list"),i(!1),console.error("Error fetching pages list:",e)}})()}),[]),(0,a.useEffect)((()=>{if(c){i(!0),x(null);(async()=>{try{const e=await Rt.getHeatmapData(c,u);x(e),i(!1)}catch(e){g("Failed to load heatmap data"),i(!1),console.error("Error fetching heatmap data:",e)}})()}}),[c,u]),(0,a.useEffect)((()=>{if(m&&v.current&&b.current){const e=b.current;e.complete?w():e.onload=w}}),[m,A,j]);const w=()=>{if(!v.current||!m)return;const e=v.current,t=e.getContext("2d"),{width:r,height:a}=m.viewport;e.width=r,e.height=a,b.current&&b.current.complete?(t.drawImage(b.current,0,0,r,a),t.fillStyle="rgba(255, 255, 255, 0.2)",t.fillRect(0,0,r,a)):(t.fillStyle="#f5f5f5",t.fillRect(0,0,r,a),t.fillStyle="#ccc",t.font="24px Arial",t.textAlign="center",t.fillText(`Screenshot of ${m.pageUrl}`,r/2,a/2));const s=Math.max(...m.data.map((e=>e.value)));m.data.forEach((e=>{const{x:r,y:a,value:n}=e,i=n/s,o=t.createRadialGradient(r,a,0,r,a,j);"clicks"===u?(o.addColorStop(0,`rgba(255, 0, 0, ${i*A})`),o.addColorStop(1,"rgba(255, 0, 0, 0)")):"moves"===u?(o.addColorStop(0,`rgba(0, 0, 255, ${i*A})`),o.addColorStop(1,"rgba(0, 0, 255, 0)")):(o.addColorStop(0,`rgba(0, 255, 0, ${i*A})`),o.addColorStop(1,"rgba(0, 255, 0, 0)")),t.fillStyle=o,t.beginPath(),t.arc(r,a,j,0,2*Math.PI),t.fill()})),t.globalCompositeOperation="multiply",t.globalCompositeOperation="source-over"};return n&&!m?(0,k.jsx)("div",{className:Ut,children:"Loading heatmap data..."}):p?(0,k.jsxs)("div",{className:Ft,children:[(0,k.jsx)("div",{className:qt,children:p}),(0,k.jsx)("button",{onClick:s,className:_t,children:"Back to Analytics"})]}):(0,k.jsxs)("div",{className:Ft,children:[(0,k.jsxs)("div",{className:Bt,children:[(0,k.jsx)("h3",{children:"User Interaction Heatmap"}),(0,k.jsxs)("div",{className:zt,children:[(0,k.jsx)("select",{value:c,onChange:e=>{d(e.target.value)},className:_t,children:o.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,k.jsxs)("select",{value:u,onChange:e=>{h(e.target.value)},className:_t,children:[(0,k.jsx)("option",{value:"clicks",children:"Clicks"}),(0,k.jsx)("option",{value:"moves",children:"Mouse Movements"}),(0,k.jsx)("option",{value:"views",children:"View Time"})]}),(0,k.jsx)("button",{onClick:()=>{if(!v.current)return;const e=document.createElement("a");e.download=`heatmap-${c}-${u}.png`,e.href=v.current.toDataURL("image/png"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:_t,children:"Export"})]})]}),(0,k.jsxs)("div",{className:Ot,children:[(0,k.jsxs)("div",{className:Lt,children:[(0,k.jsx)("label",{children:"Intensity:"}),(0,k.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:A,onChange:e=>{y(parseFloat(e.target.value))}}),(0,k.jsx)("span",{children:A})]}),(0,k.jsxs)("div",{className:Lt,children:[(0,k.jsx)("label",{children:"Radius:"}),(0,k.jsx)("input",{type:"range",min:"10",max:"50",step:"5",value:j,onChange:e=>{f(parseInt(e.target.value,10))}}),(0,k.jsxs)("span",{children:[j,"px"]})]})]}),(0,k.jsxs)("div",{className:Xt,children:[(0,k.jsx)("img",{ref:b,src:(null===m||void 0===m?void 0:m.screenshot)||"https://via.placeholder.com/1280x720?text=Loading+Screenshot",alt:"Page screenshot",style:{display:"none"},crossOrigin:"anonymous"}),(0,k.jsx)("canvas",{ref:v,className:Vt})]}),m&&(0,k.jsxs)("div",{className:Nt,children:[(0,k.jsx)("h4",{children:"Interaction Insights"}),(0,k.jsxs)("div",{className:Wt,children:[(0,k.jsxs)("div",{className:$t,children:[(0,k.jsx)("h5",{children:"Most Active Area"}),(0,k.jsxs)("p",{children:["The area with highest activity is around coordinates (",(null===(t=m.data[0])||void 0===t?void 0:t.x)||0,", ",(null===(r=m.data[0])||void 0===r?void 0:r.y)||0,")"]})]}),(0,k.jsxs)("div",{className:$t,children:[(0,k.jsx)("h5",{children:"Activity Summary"}),(0,k.jsxs)("p",{children:[m.data.length," ",u," tracked on this page"]})]}),(0,k.jsxs)("div",{className:$t,children:[(0,k.jsx)("h5",{children:"Page URL"}),(0,k.jsx)("p",{children:m.pageUrl})]})]})]}),(0,k.jsx)("div",{className:Gt,children:(0,k.jsx)("button",{onClick:s,className:_t,children:"Back to Dashboard"})})]})},dr=()=>{const e=(0,g.A)(),[t,r]=(0,a.useState)(0),[s,n]=(0,a.useState)(!1),[d,A]=(0,a.useState)(!0),[y,j]=(0,a.useState)(null),[f,v]=(0,a.useState)([]),[b,w]=(0,a.useState)([]),[S,E]=(0,a.useState)([]),[D,M]=(0,a.useState)([]),[I,T]=(0,a.useState)([]),[P,B]=(0,a.useState)([]),[z,_]=(0,a.useState)([]),[U,q]=(0,a.useState)([]),[N,W]=(0,a.useState)([]),[$,O]=(0,a.useState)("json"),[L,X]=(0,a.useState)("7days"),[V,G]=(0,a.useState)(null),[Z,K]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),Q={primary:e.palette.primary.main,secondary:e.palette.secondary.main,success:e.palette.success.main,warning:e.palette.warning.main,error:e.palette.error.main,info:e.palette.info.main,pieColors:["#0088FE","#00C49F","#FFBB28","#FF8042","#A4DE6C","#8884D8","#83A6ED","#8DD1E1","#D0ED57","#F7DC6F"]};(0,a.useEffect)((()=>{(async()=>{try{const e=await C.A.isAdmin();n(e),e?(Rt.initGA4(),await ee()):(j("Admin access required to view analytics"),A(!1))}catch(e){console.error("Error checking admin status:",e),j("Failed to verify admin access"),A(!1)}})()}),[]);const ee=async()=>{try{A(!0),j(null);const[e,t,r,a,s,n,i,o,l]=await Promise.all([Rt.getUserActivity(),Rt.getFeatureUsage(),Rt.getFeedbackSentiment(),Rt.getRetentionData(),Rt.getGeographicData(),Rt.getDeviceData(),Rt.getBrowserData(),Rt.getIssueData(),Rt.detectAnomalies()]);v(e),w(t),E(r),M(a),T(s),B(n),_(i),q(o),W(l),A(!1)}catch(e){console.error("Error loading dashboard data:",e),j("Failed to load analytics data"),A(!1)}};(0,a.useEffect)((()=>{te()}),[L]);const te=async()=>{try{A(!0),j(null),setTimeout((()=>{const e=se(L);G(e),A(!1)}),800)}catch(e){console.error("Error loading analytics:",e),j("Failed to load analytics data. Please try again."),A(!1)}},re=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e,ae=e=>{let{value:t,previousValue:r}=e;const a=r?(t-r)/r*100:0;if(Math.abs(a)<.1)return null;const s=a>0;return(0,k.jsxs)(l.A,{component:"span",sx:{display:"flex",alignItems:"center",color:s?Q.success:Q.error,ml:1,fontSize:"0.875rem"},children:[s?(0,k.jsx)(ot.A,{fontSize:"small"}):(0,k.jsx)(lt.A,{fontSize:"small"}),Math.abs(a).toFixed(1),"%"]})},se=e=>{let t=7;switch(e){case"30days":t=30;break;case"90days":t=90;break;default:t=7}const r=Array.from({length:t}).map(((e,r)=>{const a=new Date;return a.setDate(a.getDate()-(t-r-1)),{date:a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),activeUsers:Math.floor(50*Math.random())+20,newUsers:Math.floor(10*Math.random())+1,sessions:Math.floor(100*Math.random())+50}})),a=r.reduce(((e,t)=>e+t.activeUsers),0),s=r.reduce(((e,t)=>e+t.newUsers),0),n=Math.floor(a*(.4*Math.random()+.8)),i=Math.floor(s*(.4*Math.random()+.8)),o=[{category:"UI/UX",count:Math.floor(30*Math.random())+15},{category:"Features",count:Math.floor(40*Math.random())+20},{category:"Performance",count:Math.floor(25*Math.random())+10},{category:"Bugs",count:Math.floor(20*Math.random())+5},{category:"Other",count:Math.floor(15*Math.random())+5}];return{activityData:r,feedbackData:o,featureUsageData:[{name:"Route Planning",usage:Math.floor(80*Math.random())+50},{name:"Map Exploration",usage:Math.floor(70*Math.random())+40},{name:"Itinerary Builder",usage:Math.floor(60*Math.random())+30},{name:"Recommendations",usage:Math.floor(50*Math.random())+30},{name:"Sharing",usage:Math.floor(40*Math.random())+20}],deviceBreakdown:[{name:"Desktop",value:Math.floor(60*Math.random())+30},{name:"Mobile",value:Math.floor(40*Math.random())+20},{name:"Tablet",value:Math.floor(20*Math.random())+10}],requestedFeatures:[{id:1,feature:"Offline Maps Support",votes:Math.floor(40*Math.random())+30,status:"planned"},{id:2,feature:"Dark Mode",votes:Math.floor(35*Math.random())+25,status:"in_progress"},{id:3,feature:"Route Sharing",votes:Math.floor(30*Math.random())+20,status:"planned"},{id:4,feature:"Weather Integration",votes:Math.floor(25*Math.random())+15,status:"under_review"},{id:5,feature:"Translation Support",votes:Math.floor(20*Math.random())+10,status:"under_review"}],geoData:[{country:"United States",users:Math.floor(100*Math.random())+50},{country:"United Kingdom",users:Math.floor(50*Math.random())+20},{country:"Canada",users:Math.floor(40*Math.random())+15},{country:"Australia",users:Math.floor(30*Math.random())+10},{country:"Germany",users:Math.floor(25*Math.random())+10},{country:"France",users:Math.floor(20*Math.random())+10},{country:"Japan",users:Math.floor(15*Math.random())+5},{country:"Other",users:Math.floor(40*Math.random())+20}],summary:{activeUsers:{current:a,previous:n},newUsers:{current:s,previous:i},feedbackCount:o.reduce(((e,t)=>e+t.count),0),surveyResponses:Math.floor(200*Math.random())+50,avgSessionDuration:Math.floor(15*Math.random())+5}}},ne=t=>{switch(t){case"planned":return Q.info;case"in_progress":return Q.success;case"under_review":return Q.warning;case"completed":return Q.primary;default:return e.palette.grey[500]}},ie=e=>{switch(e){case"planned":return"Planned";case"in_progress":return"In Progress";case"under_review":return"Under Review";case"completed":return"Completed";default:return e}},oe=()=>{K(!1),J(!1)};return Z?(0,k.jsx)(lr,{onBack:oe}):H?(0,k.jsx)(cr,{onBack:oe}):(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",children:"Beta Analytics Dashboard"}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsxs)(Y.A,{size:"small",sx:{minWidth:120,mr:2},children:[(0,k.jsx)(Pe.A,{id:"time-range-label",children:"Time Range"}),(0,k.jsxs)(Re.A,{labelId:"time-range-label",id:"time-range-select",value:L,label:"Time Range",onChange:e=>{X(e.target.value)},children:[(0,k.jsx)(Fe.A,{value:"7days",children:"Last 7 Days"}),(0,k.jsx)(Fe.A,{value:"30days",children:"Last 30 Days"}),(0,k.jsx)(Fe.A,{value:"90days",children:"Last 90 Days"})]})]}),(0,k.jsx)(u.A,{startIcon:(0,k.jsx)(ct.A,{}),variant:"outlined",size:"small",onClick:te,disabled:d,children:"Refresh"}),(0,k.jsx)(u.A,{startIcon:(0,k.jsx)(dt.A,{}),variant:"outlined",size:"small",sx:{ml:1},disabled:d,children:"Export"})]})]}),(0,k.jsxs)(h.A,{elevation:1,sx:{p:2,mb:3},children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"UX Audit Tools"}),(0,k.jsxs)(l.A,{sx:{display:"flex",gap:2},children:[(0,k.jsx)(u.A,{variant:"outlined",startIcon:(0,k.jsx)(ut.A,{}),onClick:()=>{K(!0),J(!1)},children:"Session Recordings"}),(0,k.jsx)(u.A,{variant:"outlined",startIcon:(0,k.jsx)(ht.A,{}),onClick:()=>{J(!0),K(!1)},children:"Heatmap Visualization"})]})]}),y&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:3},children:y}),d?(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,k.jsx)(i.A,{size:60})}):V?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(p.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(R.A,{children:(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Active Users"}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"baseline"},children:[(0,k.jsx)(o.A,{variant:"h4",component:"div",children:re(V.summary.activeUsers.current)}),(0,k.jsx)(ae,{value:V.summary.activeUsers.current,previousValue:V.summary.activeUsers.previous})]}),(0,k.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"vs. previous period"})]})})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(R.A,{children:(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"New Users"}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"baseline"},children:[(0,k.jsx)(o.A,{variant:"h4",component:"div",children:re(V.summary.newUsers.current)}),(0,k.jsx)(ae,{value:V.summary.newUsers.current,previousValue:V.summary.newUsers.previous})]}),(0,k.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"vs. previous period"})]})})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(R.A,{children:(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Feedback Submissions"}),(0,k.jsx)(o.A,{variant:"h4",component:"div",children:re(V.summary.feedbackCount)}),(0,k.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"across all categories"})]})})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(R.A,{children:(0,k.jsxs)(F.A,{children:[(0,k.jsx)(o.A,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Avg. Session Duration"}),(0,k.jsxs)(o.A,{variant:"h4",component:"div",children:[V.summary.avgSessionDuration," min"]}),(0,k.jsx)(o.A,{variant:"caption",color:"textSecondary",children:"time spent per session"})]})})})]}),(0,k.jsxs)(h.A,{sx:{mb:4},children:[(0,k.jsxs)(m.A,{value:t,onChange:(e,t)=>{r(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[(0,k.jsx)(x.A,{icon:(0,k.jsx)(mt.A,{}),label:"Overview"}),(0,k.jsx)(x.A,{icon:(0,k.jsx)(xt.A,{}),label:"User Activity"}),(0,k.jsx)(x.A,{icon:(0,k.jsx)(pt.A,{}),label:"Devices"}),(0,k.jsx)(x.A,{icon:(0,k.jsx)(gt.A,{}),label:"Feedback"})]}),(0,k.jsxs)(l.A,{sx:{p:3},children:[0===t&&(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"User Activity Trends"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:400},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(jt.b,{data:V.activityData,margin:{top:20,right:30,left:20,bottom:10},children:[(0,k.jsx)(ft.d,{strokeDasharray:"3 3"}),(0,k.jsx)(vt.W,{dataKey:"date",tick:{fontSize:12}}),(0,k.jsx)(bt.h,{tick:{fontSize:12}}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(St.s,{}),(0,k.jsx)(Ct.N,{type:"monotone",dataKey:"activeUsers",name:"Active Users",stroke:Q.primary,activeDot:{r:8},strokeWidth:2}),(0,k.jsx)(Ct.N,{type:"monotone",dataKey:"newUsers",name:"New Users",stroke:Q.secondary,strokeWidth:2}),(0,k.jsx)(Ct.N,{type:"monotone",dataKey:"sessions",name:"Sessions",stroke:Q.info,strokeWidth:2})]})})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Device Distribution"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(kt.r,{children:[(0,k.jsx)(Et.F,{data:V.deviceBreakdown,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:V.deviceBreakdown.map(((e,t)=>(0,k.jsx)(Dt.f,{fill:Q.pieColors[t%Q.pieColors.length]},`cell-${t}`)))}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(St.s,{})]})})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Geographic Distribution"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(Mt.E,{data:V.geoData,layout:"vertical",margin:{top:5,right:30,left:70,bottom:5},children:[(0,k.jsx)(ft.d,{strokeDasharray:"3 3"}),(0,k.jsx)(vt.W,{type:"number"}),(0,k.jsx)(bt.h,{dataKey:"country",type:"category",tick:{fontSize:12}}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(Mt.E.Bar,{dataKey:"users",name:"Users",fill:Q.primary})]})})})]})]}),1===t&&(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"User Activity Trends"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:400},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(jt.b,{data:V.activityData,margin:{top:20,right:30,left:20,bottom:10},children:[(0,k.jsx)(ft.d,{strokeDasharray:"3 3"}),(0,k.jsx)(vt.W,{dataKey:"date",tick:{fontSize:12}}),(0,k.jsx)(bt.h,{tick:{fontSize:12}}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(St.s,{}),(0,k.jsx)(Ct.N,{type:"monotone",dataKey:"activeUsers",name:"Active Users",stroke:Q.primary,activeDot:{r:8},strokeWidth:2}),(0,k.jsx)(Ct.N,{type:"monotone",dataKey:"newUsers",name:"New Users",stroke:Q.secondary,strokeWidth:2}),(0,k.jsx)(Ct.N,{type:"monotone",dataKey:"sessions",name:"Sessions",stroke:Q.info,strokeWidth:2})]})})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Device Distribution"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(kt.r,{children:[(0,k.jsx)(Et.F,{data:V.deviceBreakdown,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:V.deviceBreakdown.map(((e,t)=>(0,k.jsx)(Dt.f,{fill:Q.pieColors[t%Q.pieColors.length]},`cell-${t}`)))}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(St.s,{})]})})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Geographic Distribution"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(Mt.E,{data:V.geoData,layout:"vertical",margin:{top:5,right:30,left:70,bottom:5},children:[(0,k.jsx)(ft.d,{strokeDasharray:"3 3"}),(0,k.jsx)(vt.W,{type:"number"}),(0,k.jsx)(bt.h,{dataKey:"country",type:"category",tick:{fontSize:12}}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(Mt.E.Bar,{dataKey:"users",name:"Users",fill:Q.primary})]})})})]})]}),2===t&&(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Device Distribution"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:400},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(kt.r,{children:[(0,k.jsx)(Et.F,{data:V.deviceBreakdown,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:V.deviceBreakdown.map(((e,t)=>(0,k.jsx)(Dt.f,{fill:Q.pieColors[t%Q.pieColors.length]},`cell-${t}`)))}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(St.s,{})]})})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Geographic Distribution"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(Mt.E,{data:V.geoData,layout:"vertical",margin:{top:5,right:30,left:70,bottom:5},children:[(0,k.jsx)(ft.d,{strokeDasharray:"3 3"}),(0,k.jsx)(vt.W,{type:"number"}),(0,k.jsx)(bt.h,{dataKey:"country",type:"category",tick:{fontSize:12}}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(Mt.E.Bar,{dataKey:"users",name:"Users",fill:Q.primary})]})})})]})]}),3===t&&(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feedback by Category"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsx)(yt.u,{width:"100%",height:"100%",children:(0,k.jsxs)(kt.r,{children:[(0,k.jsx)(Et.F,{data:V.feedbackData,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"count",nameKey:"category",label:e=>{let{category:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:V.feedbackData.map(((e,t)=>(0,k.jsx)(Dt.f,{fill:Q.pieColors[t%Q.pieColors.length]},`cell-${t}`)))}),(0,k.jsx)(wt.m,{}),(0,k.jsx)(St.s,{})]})})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Top Requested Features"}),(0,k.jsx)(tt.A,{component:h.A,variant:"outlined",sx:{height:300},children:(0,k.jsxs)(rt.A,{size:"small",children:[(0,k.jsx)(at.A,{children:(0,k.jsxs)(st.A,{children:[(0,k.jsx)(nt.A,{children:"Feature Request"}),(0,k.jsx)(nt.A,{align:"center",children:"Votes"}),(0,k.jsx)(nt.A,{align:"right",children:"Status"})]})}),(0,k.jsx)(it.A,{children:V.requestedFeatures.map((e=>(0,k.jsxs)(st.A,{hover:!0,children:[(0,k.jsx)(nt.A,{children:e.feature}),(0,k.jsx)(nt.A,{align:"center",children:e.votes}),(0,k.jsx)(nt.A,{align:"right",children:(0,k.jsx)(l.A,{sx:{display:"inline-block",bgcolor:ne(e.status),color:"#fff",px:1.5,py:.5,borderRadius:1,fontSize:"0.75rem"},children:ie(e.status)})})]},e.id)))})]})})]}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Feedback Sentiment Analysis"}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,height:300},children:(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",color:"text.secondary"},children:[(0,k.jsx)(o.A,{variant:"body1",sx:{mb:2},children:"Sentiment Analysis Coming Soon"}),(0,k.jsx)(o.A,{variant:"body2",children:"This feature will analyze the sentiment of user feedback to identify trends in user satisfaction."})]})})]})]})]})]}),(0,k.jsx)(h.A,{variant:"outlined",sx:{p:2,mb:2},children:(0,k.jsxs)(o.A,{variant:"body2",color:"textSecondary",children:[(0,k.jsx)(At.A,{fontSize:"small",sx:{verticalAlign:"middle",mr:1}}),"This dashboard shows analytics for the beta program. Data is updated daily. For real-time analytics, please use the export feature."]})})]}):(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,k.jsx)(o.A,{children:"No data available"})})]})},ur=(0,a.lazy)((()=>Promise.all([r.e(188),r.e(805)]).then(r.bind(r,82805)))),hr=()=>{const e=(0,g.A)(),t=(0,s.A)(e.breakpoints.down("sm")),{isAdmin:r,isModerator:y,isLoading:j}=be(),[f,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!0),[S,D]=(0,a.useState)(0),[M,I]=(0,a.useState)(null),[T,P]=(0,a.useState)(null),[R,F]=(0,a.useState)(!1),[B,z]=(0,a.useState)(""),[_,U]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=C.A.getToken();e?we.A.defaults.headers.common.Authorization=`Bearer ${e}`:delete we.A.defaults.headers.common.Authorization}),[f]),(0,a.useEffect)((()=>{(async()=>{try{w(!0);const e=await C.A.checkAuthStatus();if(e){P(e),v(!0),U(e.roles&&e.roles.includes("admin")),e.needsOnboarding&&(F(!0),e.betaCode&&z(e.betaCode));const t=C.A.getToken();t&&(we.A.defaults.headers.common.Authorization=`Bearer ${t}`)}else v(!1),P(null),delete we.A.defaults.headers.common.Authorization}catch(e){console.error("Authentication error:",e),I("Failed to authenticate. Please try again."),v(!1),P(null)}finally{w(!1)}})()}),[]);const q=async e=>{try{const t={...T,needsOnboarding:!1,profile:e.profile,preferences:e.preferences};P(t),F(!1);const r=await C.A.refreshUserData();r&&P(r)}catch(t){console.error("Error updating user after onboarding:",t),F(!1)}};return b||j?(0,k.jsxs)(n.A,{maxWidth:"md",sx:{py:8,textAlign:"center"},children:[(0,k.jsx)(i.A,{size:60}),(0,k.jsx)(o.A,{variant:"h6",sx:{mt:2},children:"Loading Beta Portal..."})]}):f&&R?(0,k.jsx)(je,{initialCode:B,onComplete:q}):(0,k.jsxs)(n.A,{maxWidth:"lg",children:[(0,k.jsxs)(l.A,{sx:{my:4},children:[(0,k.jsx)(o.A,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:"TourGuideAI Beta Program"}),M&&(0,k.jsx)(c.A,{severity:"error",sx:{mb:3},children:M}),f?(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(o.A,{variant:"h6",children:["Welcome, ",T.name||T.email]}),(0,k.jsxs)(l.A,{sx:{mt:1},children:[(0,k.jsx)(fe.Xh,{role:ve.gg.ADMIN,children:(0,k.jsx)(d.A,{label:"Admin",color:"error",size:"small",sx:{mr:1}})}),(0,k.jsx)(fe.Xh,{role:ve.gg.MODERATOR,children:(0,k.jsx)(d.A,{label:"Moderator",color:"warning",size:"small",sx:{mr:1}})}),(0,k.jsx)(d.A,{label:"Beta Tester",color:"primary",size:"small"})]})]}),(0,k.jsxs)(l.A,{children:[(0,k.jsx)(fe.kx,{role:[ve.gg.ADMIN,ve.gg.MODERATOR],children:(0,k.jsx)(u.A,{variant:"outlined",color:"primary",component:A.N_,to:"/admin",sx:{mr:2},children:"Admin Panel"})}),(0,k.jsx)(u.A,{variant:"outlined",color:"primary",onClick:async()=>{try{await C.A.logout(),v(!1),P(null),D(0),delete we.A.defaults.headers.common.Authorization}catch(e){console.error("Logout error:",e),I("Failed to log out. Please try again.")}},children:"Logout"})]})]}),(0,k.jsxs)(h.A,{elevation:3,sx:{mb:4},children:[(0,k.jsxs)(m.A,{value:S,onChange:(e,t)=>{D(t)},variant:t?"scrollable":"fullWidth",scrollButtons:!!t&&"auto",centered:!t,children:[(0,k.jsx)(x.A,{label:"Dashboard"}),(0,k.jsx)(x.A,{label:"Provide Feedback"}),(0,k.jsx)(x.A,{label:"Surveys"}),(0,k.jsx)(x.A,{label:"Feature Requests"}),(0,k.jsx)(x.A,{label:"Community"}),r&&(0,k.jsx)(x.A,{label:"Analytics"}),(0,k.jsx)(x.A,{label:"Resources"})]}),(0,k.jsxs)(l.A,{sx:{p:3},children:[0===S&&(0,k.jsxs)(l.A,{children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Tester Dashboard"}),(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"User Information"}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Name:"})," ",T.name]}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Email:"})," ",T.email]}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Role:"})," ",T.role]}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Member Since:"})," ",new Date(T.registrationDate).toLocaleDateString()]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Beta Activity"}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Feedback Submitted:"})," 0"]}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Surveys Completed:"})," 0"]}),(0,k.jsxs)(o.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Features Tested:"})," 0"]})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(Ee,{})}),(0,k.jsx)(fe.kx,{role:[ve.gg.ADMIN,ve.gg.MODERATOR],children:(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsxs)(h.A,{elevation:2,sx:{p:2,bgcolor:r?"error.50":"warning.50"},children:[(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Administrative Tools"}),(0,k.jsxs)(l.A,{sx:{mt:1,display:"flex",gap:2},children:[(0,k.jsx)(fe.aX,{permission:ve.Jj.CREATE_INVITE,children:(0,k.jsx)(u.A,{variant:"contained",size:"small",component:A.N_,to:"/admin/invite-codes",children:"Manage Invite Codes"})}),(0,k.jsx)(fe.Xh,{role:ve.gg.ADMIN,children:(0,k.jsx)(u.A,{variant:"contained",color:"error",size:"small",component:A.N_,to:"/admin",children:"Admin Dashboard"})})]})]})})})]})]}),1===S&&(0,k.jsxs)(l.A,{children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Provide Your Feedback"}),(0,k.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Your feedback is essential for improving TourGuideAI. Please share your thoughts, report bugs, or suggest new features."}),(0,k.jsx)(p.Ay,{container:!0,spacing:3,children:(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(h.A,{elevation:2,sx:{p:3},children:(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)(i.A,{}),children:(0,k.jsx)(ur,{})})})})})]}),2===S&&(0,k.jsx)(o.A,{variant:"body1",children:"Surveys will be implemented in subsequent tasks."}),3===S&&(0,k.jsxs)(l.A,{children:[(0,k.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Request new features or vote on existing requests to help us prioritize development."}),(0,k.jsx)(Le,{featureService:{}})]}),4===S&&(0,k.jsxs)(l.A,{sx:{my:3},children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Connect with other beta testers"}),(0,k.jsx)(o.A,{variant:"body2",sx:{mb:2},children:"Discuss features, share ideas, and connect with other beta testers in our community forum."}),(0,k.jsx)(et,{})]}),5===S&&r&&(0,k.jsxs)(l.A,{sx:{my:3},children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Program Analytics"}),(0,k.jsx)(o.A,{variant:"body2",sx:{mb:2},children:"View insights and metrics about the beta program, including user activity, feature usage, and feedback trends."}),(0,k.jsx)(dr,{})]}),S===(r||y?6:5)&&(0,k.jsxs)(l.A,{children:[(0,k.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Beta Program Resources"}),(0,k.jsx)(o.A,{variant:"body1",paragraph:!0,children:"Access documentation, guides, and resources for the beta program."}),(0,k.jsxs)(p.Ay,{container:!0,spacing:2,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Getting Started"}),(0,k.jsx)(o.A,{variant:"body2",paragraph:!0,children:"A guide to help you get started with TourGuideAI's beta program."}),(0,k.jsx)(u.A,{size:"small",variant:"outlined",children:"View Guide"})]})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(h.A,{elevation:2,sx:{p:2},children:[(0,k.jsx)(o.A,{variant:"subtitle1",fontWeight:"bold",children:"Providing Effective Feedback"}),(0,k.jsx)(o.A,{variant:"body2",paragraph:!0,children:"Learn how to provide feedback that helps us improve TourGuideAI."}),(0,k.jsx)(u.A,{size:"small",variant:"outlined",children:"View Guide"})]})})]})]})]})]})]}):(0,k.jsx)(l.A,{sx:{mt:4},children:(0,k.jsxs)(h.A,{elevation:3,sx:{p:4},children:[(0,k.jsx)(o.A,{variant:"h5",component:"h2",gutterBottom:!0,align:"center",children:"Join Our Beta Program"}),(0,k.jsx)(o.A,{variant:"body1",paragraph:!0,align:"center",children:"Get early access to TourGuideAI and help shape the future of travel planning."}),(0,k.jsx)(E,{onSuccess:e=>{P(e),v(!0),U(e.roles&&e.roles.includes("admin")),e.betaCode&&z(e.betaCode),F(!0)}})]})})]}),f&&(0,k.jsx)(a.Suspense,{fallback:null,children:(0,k.jsx)(ur,{})})]})}},93846:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(45901),s=r(20860);r(97714);const n="/api/invite-codes";const i=new class{async generateCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{sendEmail:t,recipientEmail:r}=e;return(await a.Ay.post(`${n}/generate`,{sendEmail:t,recipientEmail:r},{headers:(0,s.z)()})).data.inviteCode}catch(t){throw console.error("Error generating invite code:",t),t}}async getAllCodes(){try{return(await a.Ay.get(n,{headers:(0,s.z)()})).data.codes||[]}catch(e){throw console.error("Error getting invite codes:",e),e}}async validateCode(e){try{return(await a.Ay.post(`${n}/validate`,{code:e})).data.valid}catch(t){return console.error("Error validating invite code:",t),!1}}async invalidateCode(e){try{return!!(await a.Ay.post(`${n}/invalidate`,{code:e},{headers:(0,s.z)()})).data.message}catch(t){return console.error("Error invalidating invite code:",t),!1}}async sendInviteCodeEmail(e,t){try{return(await a.Ay.post(`${n}/send`,{code:e,email:t},{headers:(0,s.z)()})).data.emailSent}catch(r){return console.error("Error sending invite code email:",r),!1}}}},97714:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(23509),s=r(20860);const n="/api/emails",i={requestEmailVerification:async()=>{try{return(await a.A.post(`${n}/resend-verification`,{},{headers:(0,s.z)()})).data}catch(e){throw console.error("Error requesting email verification:",e),e}},verifyEmail:async e=>{try{return(await a.A.post(`${n}/verify`,{token:e})).data}catch(t){throw console.error("Error verifying email:",t),t}},requestPasswordReset:async e=>{try{return(await a.A.post("/auth/request-password-reset",{email:e})).data}catch(t){throw console.error("Error requesting password reset:",t),t}},resetPassword:async(e,t)=>{try{return(await a.A.post("/auth/reset-password",{token:e,newPassword:t})).data}catch(r){throw console.error("Error resetting password:",r),r}},sendInviteCode:async(e,t)=>{try{return(await a.A.post(`${n}/send-invite`,{email:t,code:e},{headers:(0,s.z)()})).data}catch(r){throw console.error("Error sending invitation code:",r),r}}}}}]);
//# sourceMappingURL=533.44216eb7.chunk.js.map